<!doctype html><html lang="en"><head><script defer src="https://cdn.optimizely.com/js/16180790160.js"></script><title data-rh="true">Application data caching using SSDs | by Netflix Technology Blog | Netflix TechBlog</title><meta data-rh="true" charset="utf-8"/><meta data-rh="true" name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1,maximum-scale=1"/><meta data-rh="true" name="theme-color" content="#000000"/><meta data-rh="true" name="twitter:app:name:iphone" content="Medium"/><meta data-rh="true" name="twitter:app:id:iphone" content="828256236"/><meta data-rh="true" property="al:ios:app_name" content="Medium"/><meta data-rh="true" property="al:ios:app_store_id" content="828256236"/><meta data-rh="true" property="al:android:package" content="com.medium.reader"/><meta data-rh="true" property="fb:app_id" content="542599432471018"/><meta data-rh="true" property="og:site_name" content="Medium"/><meta data-rh="true" property="og:type" content="article"/><meta data-rh="true" property="article:published_time" content="2017-04-19T15:16:50.159Z"/><meta data-rh="true" name="title" content="Application data caching using SSDs | by Netflix Technology Blog | Netflix TechBlog"/><meta data-rh="true" property="og:title" content="Application data caching using SSDs"/><meta data-rh="true" property="twitter:title" content="Application data caching using SSDs"/><meta data-rh="true" name="twitter:site" content="@Medium"/><meta data-rh="true" name="twitter:app:url:iphone" content="medium://p/5bf25df851ef"/><meta data-rh="true" property="al:android:url" content="medium://p/5bf25df851ef"/><meta data-rh="true" property="al:ios:url" content="medium://p/5bf25df851ef"/><meta data-rh="true" property="al:android:app_name" content="Medium"/><meta data-rh="true" name="description" content="How we are bringing the power and economy of SSDs to EVCache — the primary caching system in use at Netflix for applications running in the control plane on AWS."/><meta data-rh="true" property="og:description" content="The Moneta project: Next generation EVCache for better cost optimization"/><meta data-rh="true" property="twitter:description" content="The Moneta project: Next generation EVCache for better cost optimization"/><meta data-rh="true" property="og:url" content="https://netflixtechblog.com/application-data-caching-using-ssds-5bf25df851ef"/><meta data-rh="true" property="al:web:url" content="https://netflixtechblog.com/application-data-caching-using-ssds-5bf25df851ef"/><meta data-rh="true" property="og:image" content="https://miro.medium.com/max/676/0*SmIulc1_uF9uNuDr."/><meta data-rh="true" name="twitter:image:src" content="https://miro.medium.com/max/676/0*SmIulc1_uF9uNuDr."/><meta data-rh="true" name="twitter:card" content="summary_large_image"/><meta data-rh="true" property="article:author" content="https://netflixtechblog.medium.com"/><meta data-rh="true" name="author" content="Netflix Technology Blog"/><meta data-rh="true" name="robots" content="index,follow,max-image-preview:large"/><meta data-rh="true" name="referrer" content="unsafe-url"/><meta data-rh="true" name="twitter:label1" content="Reading time"/><meta data-rh="true" name="twitter:data1" content="13 min read"/><link data-rh="true" rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml"/><link data-rh="true" rel="apple-touch-icon" sizes="152x152" href="https://miro.medium.com/fit/c/152/152/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="120x120" href="https://miro.medium.com/fit/c/120/120/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="76x76" href="https://miro.medium.com/fit/c/76/76/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="apple-touch-icon" sizes="60x60" href="https://miro.medium.com/fit/c/60/60/1*sHhtYhaCe2Uc3IU0IgKwIQ.png"/><link data-rh="true" rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/Medium-Avatar-500x500.svg" color="#171717"/><link data-rh="true" id="glyph_preload_link" rel="preload" as="style" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" id="glyph_link" rel="stylesheet" type="text/css" href="https://glyph.medium.com/css/unbound.css"/><link data-rh="true" rel="author" href="https://netflixtechblog.medium.com"/><link data-rh="true" rel="canonical" href="http://techblog.netflix.com/2016/05/application-data-caching-using-ssds.html"/><link data-rh="true" rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/5bf25df851ef"/><link data-rh="true" rel="icon" href="https://miro.medium.com/1*m-R_BkNf1Qjr1YbyOIJY2w.png"/><script data-rh="true" type="application/ld+json">{"@context":"http:\u002F\u002Fschema.org","@type":"NewsArticle","image":["https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F1200\u002F0*SmIulc1_uF9uNuDr."],"url":"https:\u002F\u002Fnetflixtechblog.com\u002Fapplication-data-caching-using-ssds-5bf25df851ef","dateCreated":"2016-05-25T07:00:00.000Z","datePublished":"2016-05-25T07:00:00.000Z","dateModified":"2018-05-13T05:14:51.686Z","headline":"Application data caching using SSDs - Netflix TechBlog","name":"Application data caching using SSDs - Netflix TechBlog","description":"How we are bringing the power and economy of SSDs to EVCache — the primary caching system in use at Netflix for applications running in the control plane on AWS.","identifier":"5bf25df851ef","author":{"@type":"Person","name":"Netflix Technology Blog","url":"https:\u002F\u002Fnetflixtechblog.medium.com"},"creator":["Netflix Technology Blog"],"publisher":{"@type":"Organization","name":"Netflix TechBlog","url":"netflixtechblog.com","logo":{"@type":"ImageObject","width":245,"height":60,"url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F490\u002F1*XMfuQcaI93EqrkVcAyVsTw.png"}},"mainEntityOfPage":"https:\u002F\u002Fnetflixtechblog.com\u002Fapplication-data-caching-using-ssds-5bf25df851ef"}</script><link rel="preload" href="https://cdn.optimizely.com/js/16180790160.js" as="script"><style type="text/css" data-fela-rehydration="465" data-fela-type="STATIC">html{box-sizing:border-box}*, *:before, *:after{box-sizing:inherit}body{margin:0;padding:0;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;color:rgba(0,0,0,0.8);position:relative;min-height:100vh}h1, h2, h3, h4, h5, h6, dl, dd, ol, ul, menu, figure, blockquote, p, pre, form{margin:0}menu, ol, ul{padding:0;list-style:none;list-style-image:none}main{display:block}a{color:inherit;text-decoration:none}a, button, input{-webkit-tap-highlight-color:transparent}img, svg{vertical-align:middle}button{background:transparent;overflow:visible}button, input, optgroup, select, textarea{margin:0}:root{--reach-tabs:1;--reach-menu-button:1}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="KEYFRAME">@-webkit-keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@-moz-keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}@keyframes k1{from{filter:hue-rotate(0deg)}to{filter:hue-rotate(360deg)}}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE">.a{font-family:medium-content-sans-serif-font, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.b{font-weight:400}.c{background-color:rgba(255, 255, 255, 1)}.l{height:100vh}.m{width:100vw}.n{display:flex}.o{align-items:center}.p{justify-content:center}.q{height:25px}.r{fill:rgba(41, 41, 41, 1)}.s{display:block}.t{position:absolute}.u{top:0}.v{left:0}.w{right:0}.x{z-index:500}.y{box-shadow:0 4px 12px 0 rgba(0, 0, 0, 0.05)}.ab{background-color:rgba(34, 30, 31, 1)}.ai{max-width:1192px}.aj{min-width:0}.ak{width:100%}.al{height:65px}.ao{flex:1 0 auto}.ap{fill:rgba(238, 234, 234, 1)}.aq{border-left:1px solid rgba(137, 132, 133, 1)}.ar{margin-left:15px}.as{margin-right:14px}.at{height:24px}.au{width:1px}.av{height:36px}.aw{width:148px}.ax{flex:0 0 auto}.ay{margin-left:16px}.az{color:rgba(238, 234, 234, 1)}.ba{font-size:inherit}.bb{border:inherit}.bc{font-family:inherit}.bd{letter-spacing:inherit}.be{font-weight:inherit}.bf{padding:0}.bg{margin:0}.bk:disabled{cursor:default}.bl:disabled{color:rgba(163, 208, 162, 0.5)}.bm:disabled{fill:rgba(163, 208, 162, 0.5)}.bn{border-top:none}.bo{display:none}.bq{height:54px}.br{overflow:hidden}.bs{margin-right:40px}.bt{width:147px}.bu{overflow:auto}.bv{flex:0 1 auto}.bw{list-style-type:none}.bx{line-height:40px}.by{white-space:nowrap}.bz{overflow-x:auto}.ca{align-items:flex-start}.cb{margin-top:20px}.cc{padding-top:20px}.cd{height:80px}.ce{margin-bottom:0px}.cf{margin-top:0px}.cn{margin-left:auto}.co{margin-right:auto}.cp{max-width:728px}.cq{box-sizing:border-box}.cr{background:rgba(255, 255, 255, 1)}.cs{border:1px solid rgba(230, 230, 230, 1)}.ct{border-radius:4px}.cu{box-shadow:0 1px 4px rgba(230, 230, 230, 1)}.cv{max-height:100vh}.cw{overflow-y:auto}.cx{top:calc(100vh + 100px)}.cy{bottom:calc(100vh + 100px)}.cz{width:10px}.da{pointer-events:none}.db{word-break:break-word}.dc{word-wrap:break-word}.dd:after{display:block}.de:after{content:""}.df:after{clear:both}.dg{max-width:680px}.dh{line-height:1.23}.di{letter-spacing:0}.dj{font-style:normal}.dk{font-family:fell, Georgia, Cambria, "Times New Roman", Times, serif}.ef{margin-bottom:-0.27em}.eg{color:rgba(41, 41, 41, 1)}.eh{line-height:1.394}.ei{font-family:sohne, "Helvetica Neue", Helvetica, Arial, sans-serif}.ey{margin-bottom:-0.42em}.ez{color:rgba(117, 117, 117, 1)}.fa{margin-top:32px}.fb{justify-content:space-between}.ff{border-radius:50%}.fg{height:48px}.fh{width:48px}.fi{margin-left:8px}.fj{font-size:14px}.fk{line-height:20px}.fl{margin-bottom:2px}.fn{max-height:20px}.fo{text-overflow:ellipsis}.fp{display:-webkit-box}.fq{-webkit-line-clamp:1}.fr{-webkit-box-orient:vertical}.ft{color:inherit}.fu{fill:inherit}.fw:disabled{color:rgba(117, 117, 117, 1)}.fx:disabled{fill:rgba(117, 117, 117, 1)}.fy{font-size:13px}.fz{color:rgba(255, 255, 255, 1)}.ga{padding:0px 8px 1px}.gb{fill:rgba(255, 255, 255, 1)}.gc{background:rgba(137, 131, 132, 1)}.gd{border-color:rgba(137, 131, 132, 1)}.gg:disabled{cursor:inherit}.gh:disabled{opacity:0.3}.gi:disabled:hover{background:rgba(137, 131, 132, 1)}.gj:disabled:hover{border-color:rgba(137, 131, 132, 1)}.gk{border-radius:99em}.gl{border-width:1px}.gm{border-style:solid}.gn{display:inline-block}.go{text-decoration:none}.gp{margin-left:4px}.gq{stroke:rgba(242, 242, 242, 1)}.gr{height:23px}.gs{width:23px}.gv{color:rgba(242, 242, 242, 1)}.gw{fill:rgba(242, 242, 242, 1)}.gx{background:rgba(242, 242, 242, 1)}.gy{border-color:rgba(242, 242, 242, 1)}.he{align-items:flex-end}.hm{padding-right:1px}.hn{fill:rgba(117, 117, 117, 1)}.ho path{fill:rgba(8, 8, 8, 1)}.hp{margin:0 6px 0 7px}.hq path{fill:rgba(41, 41, 41, 1)}.hr{max-width:1200px}.hx{clear:both}.hy{border-width:2px}.hz{border-color:rgba(255, 255, 255, 1)}.ia{float:left}.ib{margin-left:-150px}.ic{margin-right:30px}.id{width:75%}.ie{padding-bottom:10px}.ij{margin-bottom:16px}.il{cursor:zoom-in}.im{position:relative}.in{z-index:auto}.ip{max-width:100%}.iq{height:auto}.ir{line-height:1.58}.is{letter-spacing:-0.004em}.it{font-family:charter, Georgia, Cambria, "Times New Roman", Times, serif}.jm{margin-bottom:-0.46em}.jn{text-decoration:underline}.jt{box-shadow:inset 0 0 0 1px rgba(230, 230, 230, 1)}.ju{padding:0px}.jv{padding:16px 20px}.jw{flex-direction:column}.jx{flex:1 1 auto}.jz{font-size:20px}.ka{line-height:28px}.kb{max-height:56px}.kc{-webkit-line-clamp:2}.kd{margin-top:8px}.ke{font-size:16px}.kf{max-height:40px}.kg{margin-top:12px}.kh{width:160px}.ki{background-image:url(https://miro.medium.com/max/320/1*TuEM2hjwnsc5cQuTae-YdA.png)}.kj{background-origin:border-box}.kk{background-size:cover}.kl{height:167px}.km{background-position:50% 50%}.kn{background-image:url(https://miro.medium.com/max/320/0*SZdFmc40mfFsIOb-.)}.ko{font-style:italic}.kp{line-height:1.12}.kq{letter-spacing:-0.022em}.kr{font-weight:500}.lk{margin-bottom:-0.28em}.lq{max-width:676px}.lr{opacity:0}.ls{transition:opacity 100ms 400ms}.lt{height:100%}.lu{will-change:transform}.lv{transform:translateZ(0)}.lw{margin:auto}.lx{background-color:rgba(242, 242, 242, 1)}.ly{padding-bottom:36.83431952662722%}.lz{height:0}.ma{filter:blur(20px)}.mb{transform:scale(1.1)}.mc{visibility:visible}.md{max-width:428px}.me{padding-bottom:42.99065420560748%}.mf{max-width:417px}.mg{padding-bottom:57.07434052757794%}.mh{line-height:1.18}.mp{margin-bottom:-0.31em}.mq{max-width:382px}.mr{padding-bottom:59.68586387434554%}.ms{max-width:416px}.mt{padding-bottom:55.28846153846154%}.mu{max-width:270px}.mv{padding-bottom:64.07407407407408%}.mw{background-image:url(https://miro.medium.com/max/320/0*DOqQH3D_Xq-6o2jl.)}.mx{margin-bottom:14px}.my{padding-top:24px}.mz{background-color:rgba(8, 8, 8, 1)}.na{height:3px}.nb{width:3px}.nc{margin-right:20px}.nd{will-change:opacity}.ne{position:fixed}.nf{width:188px}.ng{left:50%}.nh{transform:translateX(406px)}.ni{top:calc(65px + 54px + 14px)}.nl{will-change:opacity, transform}.nm{transform:translateY(159px)}.no{width:197px}.np{margin-bottom:20px}.nq{padding-bottom:20px}.nr{padding-top:2px}.ns{max-height:120px}.nt{-webkit-line-clamp:6}.nu{padding:7px 16px 9px}.nv{flex-direction:row}.nw{padding-top:32px}.nx{border-top:1px solid rgba(230, 230, 230, 1)}.ny{justify-content:space-evenly}.oe{outline:0}.of{border:0}.og{user-select:none}.oh{cursor:pointer}.oi> svg{pointer-events:none}.ok{-webkit-user-select:none}.ou button{text-align:left}.ov{margin-top:2px}.ow{fill:rgba(61, 61, 61, 1)}.ox{opacity:1}.oy{margin-top:1px}.oz{margin-top:40px}.pa{flex-wrap:wrap}.pb{margin-top:25px}.pc{margin-right:8px}.pd{margin-bottom:8px}.pe{line-height:22px}.pf{border-radius:3px}.pg{padding:5px 10px}.ph{max-width:155px}.po{top:1px}.pr{margin-left:24px}.ps{margin-top:4px}.pt{margin-bottom:25px}.pv{margin-bottom:32px}.pw{min-height:80px}.qb{width:80px}.qc{padding-left:102px}.qe{line-height:18px}.qf{letter-spacing:0.077em}.qg{text-transform:uppercase}.qh{margin-bottom:6px}.qi{font-size:22px}.qj{padding:4px 12px 6px}.qk{width:36px}.ql{max-width:555px}.qm{max-width:450px}.qn{line-height:24px}.qp{max-width:550px}.qq{margin-top:5px}.qr{height:40px}.qs{width:40px}.qt{margin-left:12px}.qu{font-size:12px}.qv{line-height:16px}.qw{letter-spacing:0.083em}.qx{padding-top:8px}.bh:hover{cursor:pointer}.bi:hover{color:rgba(255, 253, 253, 1)}.bj:hover{fill:rgba(255, 253, 253, 1)}.fv:hover{text-decoration:underline}.ge:hover{background:rgba(118, 112, 113, 1)}.gf:hover{border-color:rgba(118, 112, 113, 1)}.gt:hover{color:rgba(25, 25, 25, 1)}.gu:hover{fill:rgba(25, 25, 25, 1)}.gz:hover{background:rgba(242, 242, 242, 1)}.ha:hover{border-color:rgba(242, 242, 242, 1)}.hb:hover{cursor:wait}.hc:hover{color:rgba(242, 242, 242, 1)}.hd:hover{fill:rgba(242, 242, 242, 1)}.om:hover{fill:rgba(117, 117, 117, 1)}.io:focus{transform:scale(1.01)}.ol:focus{fill:rgba(117, 117, 117, 1)}.oj:active{border-style:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 1080px)">.d{display:none}.ah{margin:0 64px}.cm{padding:0 16px}.eb{font-size:48px}.ec{margin-top:0.55em}.ed{line-height:60px}.ee{letter-spacing:-0.011em}.ev{font-size:22px}.ew{margin-top:0.92em}.ex{line-height:28px}.hl{margin-left:30px}.hw{margin-top:56px}.ji{font-size:21px}.jj{margin-top:2em}.jk{line-height:32px}.jl{letter-spacing:-0.003em}.js{margin-top:32px}.lg{font-size:30px}.lh{margin-top:1.95em}.li{line-height:36px}.lj{letter-spacing:0}.lp{margin-top:0.86em}.mo{margin-top:1.72em}.od{margin-right:5px}.ot{margin-top:0px}.pn{margin-top:5px}.pq{display:inline-block}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 1079.98px)">.e{display:none}.hk{margin-left:30px}.if{float:none}.ig{margin-left:0}.ih{margin-right:0}.ii{width:100%}.oc{margin-right:5px}.os{margin-top:0px}.pm{margin-top:5px}.pp{display:inline-block}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 903.98px)">.f{display:none}.hj{margin-left:30px}.ob{margin-right:5px}.or{margin-top:0px}.pk{display:inline-block}.pl{margin-top:5px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 727.98px)">.g{display:none}.am{height:56px}.an{display:flex}.bp{display:block}.cg{margin-bottom:0px}.ch{height:110px}.fd{margin-top:32px}.fe{flex-direction:column-reverse}.hh{margin-bottom:30px}.hi{margin-left:0px}.jy{padding:10px 12px 10px}.oa{margin-left:8px}.op{margin-top:2px}.oq{margin-right:16px}.pj{display:inline-block}.pu{padding-top:0}.px{margin-bottom:24px}.py{align-items:center}.pz{width:102px}.qa{position:relative}.qd{padding-left:0}.qo{margin-top:24px}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 551.98px)">.h{display:none}.ac{margin:0 24px}.ci{padding:0 8px 24px 8px}.dl{font-size:34px}.dm{margin-top:0.56em}.dn{line-height:42px}.do{letter-spacing:-0.016em}.ej{font-size:18px}.ek{margin-top:0.79em}.el{line-height:24px}.fc{margin-top:32px}.fm{margin-bottom:0px}.hf{margin-bottom:30px}.hg{margin-left:0px}.hs{margin-top:40px}.iu{margin-top:1.56em}.iv{line-height:28px}.iw{letter-spacing:-0.003em}.jo{margin-top:24px}.ks{font-size:22px}.kt{margin-top:1.2em}.ku{letter-spacing:0}.ll{margin-top:0.67em}.mi{font-size:20px}.mj{margin-top:1.23em}.nz{margin-left:8px}.on{margin-top:2px}.oo{margin-right:16px}.pi{display:inline-block}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 904px) and (max-width: 1079.98px)">.i{display:none}.ag{margin:0 64px}.cl{padding:0 16px}.dx{font-size:48px}.dy{margin-top:0.55em}.dz{line-height:60px}.ea{letter-spacing:-0.011em}.es{font-size:22px}.et{margin-top:0.92em}.eu{line-height:28px}.hv{margin-top:56px}.je{font-size:21px}.jf{margin-top:2em}.jg{line-height:32px}.jh{letter-spacing:-0.003em}.jr{margin-top:32px}.lc{font-size:30px}.ld{margin-top:1.95em}.le{line-height:36px}.lf{letter-spacing:0}.lo{margin-top:0.86em}.mn{margin-top:1.72em}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 728px) and (max-width: 903.98px)">.j{display:none}.af{margin:0 48px}.ck{padding:0 16px}.dt{font-size:48px}.du{margin-top:0.55em}.dv{line-height:60px}.dw{letter-spacing:-0.011em}.ep{font-size:22px}.eq{margin-top:0.92em}.er{line-height:28px}.hu{margin-top:56px}.ja{font-size:21px}.jb{margin-top:2em}.jc{line-height:32px}.jd{letter-spacing:-0.003em}.jq{margin-top:32px}.ky{font-size:30px}.kz{margin-top:1.95em}.la{line-height:36px}.lb{letter-spacing:0}.ln{margin-top:0.86em}.mm{margin-top:1.72em}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (min-width: 552px) and (max-width: 727.98px)">.k{display:none}.ae{margin:0 24px}.cj{padding:0 8px 24px 8px}.dp{font-size:34px}.dq{margin-top:0.56em}.dr{line-height:42px}.ds{letter-spacing:-0.016em}.em{font-size:18px}.en{margin-top:0.79em}.eo{line-height:24px}.ht{margin-top:40px}.ix{margin-top:1.56em}.iy{line-height:28px}.iz{letter-spacing:-0.003em}.jp{margin-top:24px}.kv{font-size:22px}.kw{margin-top:1.2em}.kx{letter-spacing:0}.lm{margin-top:0.67em}.mk{font-size:20px}.ml{margin-top:1.23em}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="print">.z{display:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="(orientation: landscape) and (max-width: 903.98px)">.fs{max-height:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="(prefers-reduced-motion: no-preference)">.ik{transition:transform 300ms cubic-bezier(0.2, 0, 0.2, 1)}.nj{transition:opacity 200ms}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 1230px)">.nk{display:none}</style><style type="text/css" data-fela-rehydration="465" data-fela-type="RULE" media="all and (max-width: 1240px)">.nn{display:none}</style></head><body><div id="root"><div class="a b c"><div class="d e f g h i j k"></div><script>document.domain = document.domain;</script><div class="s"><nav class="s t u v w c x y z"><div><div class="s ab"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="al n o am an"><div class="n o ao x"><a href="https://medium.com/?source=post_page-----5bf25df851ef-----------------------------------" rel="noopener follow" aria-label="Homepage"><svg viewBox="0 0 1043.63 592.71" class="q ap"><g data-name="Layer 2"><g data-name="Layer 1"><path d="M588.67 296.36c0 163.67-131.78 296.35-294.33 296.35S0 460 0 296.36 131.78 0 294.34 0s294.33 132.69 294.33 296.36M911.56 296.36c0 154.06-65.89 279-147.17 279s-147.17-124.94-147.17-279 65.88-279 147.16-279 147.17 124.9 147.17 279M1043.63 296.36c0 138-23.17 249.94-51.76 249.94s-51.75-111.91-51.75-249.94 23.17-249.94 51.75-249.94 51.76 111.9 51.76 249.94"></path></g></g></svg></a><div class="aq ar as at au s g"></div><div class="s g"><a href="https://netflixtechblog.com/?source=post_page-----5bf25df851ef-----------------------------------" rel="noopener"><div class="av aw s"><img alt="Netflix TechBlog" class="" src="https://miro.medium.com/max/296/1*XMfuQcaI93EqrkVcAyVsTw.png" width="148" height="36"/></div></a></div></div><div class="s ax x"><div class="n o"><div class="n o g"><div><div class="ay s"><span><a href="https://medium.com/m/signin?operation=login&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;source=post_page-----5bf25df851ef---------------------nav_reg--------------" class="az ap ba bb bc bd be bf bg bh bi bj bk bl bm" rel="noopener follow">Sign in</a></span></div></div></div></div></div></div></div></div></div><div class="bn bo ab bp"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="bq br n o"><div class="bs s ax"><a href="https://netflixtechblog.com/?source=post_page-----5bf25df851ef-----------------------------------" rel="noopener"><div class="av bt s"><img alt="Netflix TechBlog" class="" src="https://miro.medium.com/max/294/1*XMfuQcaI93EqrkVcAyVsTw.png" width="147" height="36"/></div></a></div><div class="bu s bv"><ul class="bw bg bx by bz n ca g cb cc cd"></ul></div></div></div></div></div></div></nav><div class="ce cf al s cg ch"></div><article><section class="ci cj ck cl cm cn co ak cp cq s"></section><span class="s"></span><div><div><div class="t v cx cy cz da"></div><section class="db dc dd de df"><div class="n p"><div class="ac ae af ag ah dg aj ak"><div class=""><h1 id="52c3" class="dh di dj dk b dl dm dn do dp dq dr ds dt du dv dw dx dy dz ea eb ec ed ee ef eg">Application data caching using SSDs</h1></div><div class=""><h2 id="3e58" class="eh di dj ei b ej ek el em en eo ep eq er es et eu ev ew ex ey ez">The Moneta project: Next generation EVCache for better cost optimization</h2><div class="fa"><div class="n fb fc fd fe"><div class="o n"><div><a href="https://netflixtechblog.medium.com/?source=post_page-----5bf25df851ef-----------------------------------" rel="noopener follow"><img alt="Netflix Technology Blog" class="s ff fg fh" src="https://miro.medium.com/fit/c/96/96/1*BJWRqfSMf9Da9vsXG9EBRQ.jpeg" width="48" height="48"/></a></div><div class="fi ak s"><div class="n"><div style="flex:1"><span class="ei b fj fk eg"><div class="fl n o fm"><span class="ei b fj fk br fn fo fp fq fr fs eg"><a href="https://netflixtechblog.medium.com/?source=post_page-----5bf25df851ef-----------------------------------" class="ft fu ba bb bc bd be bf bg bh fv bk fw fx" rel="noopener follow">Netflix Technology Blog</a></span><div class="fi n"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3aeaf49d8a4%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=post_page-c3aeaf49d8a4----5bf25df851ef---------------------follow_byline--------------" class="ei b fy fk fz ga gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow">Follow</a></span><div class="gp s"><div><div><div class="gn" role="tooltip" aria-hidden="false"><div class="s"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8ddcdec29142&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;newsletterV3=c3aeaf49d8a4&amp;newsletterV3Id=8ddcdec29142&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=post_page-----5bf25df851ef---------------------subscribe_user--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><button class="ei b fj fk gv bf gw gx gy gz ha hb hc hd gg gh gi gj gk gl gm cq gn go" aria-label="Subscribe"><svg width="23" height="23" viewBox="0 0 23 23" fill="none" class="gq gr gs"><path stroke-linecap="round" d="M14.58 6.89h3.92M16.39 9V5.08M11.62 7.04H7a1 1 0 0 0-1 1v7.13a1 1 0 0 0 1 1h8.54a1 1 0 0 0 1-1v-3.21"></path><path d="M6 8.44l5.27 3.87 2.81-2.11" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div></div></span></div></div><span class="ei b fj fk ez"><span class="ei b fj fk br fn fo fp fq fr fs ez"><div><a class="ft fu ba bb bc bd be bf bg bh fv bk fw fx" rel="noopener follow ugc nofollow" href="/application-data-caching-using-ssds-5bf25df851ef?source=post_page-----5bf25df851ef-----------------------------------">May 25, 2016</a> <!-- -->·<!-- --> <!-- -->13<!-- --> min read</div></span></span></div></div><div class="n he hf hg hh hi hj hk hl z"><div class="n o"><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on twitter"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zm4.95-16.17a2.67 2.67 0 0 0-4.6 1.84c0 .2.03.41.05.62a7.6 7.6 0 0 1-5.49-2.82 3 3 0 0 0-.38 1.34c.02.94.49 1.76 1.2 2.23a2.53 2.53 0 0 1-1.2-.33v.04c0 1.28.92 2.36 2.14 2.62-.23.05-.46.08-.71.1l-.21-.02-.27-.03a2.68 2.68 0 0 0 2.48 1.86A5.64 5.64 0 0 1 9 19.38a7.62 7.62 0 0 0 4.1 1.19c4.9 0 7.58-4.07 7.57-7.58v-.39c.52-.36.97-.83 1.33-1.38-.48.23-1 .37-1.53.43.56-.33.96-.86 1.15-1.48-.5.31-1.07.53-1.67.66z" fill="#292929"></path></svg></button></div><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on facebook"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zm-1.23-6.03V15.6H12v-2.15h1.77v-1.6C13.77 10 14.85 9 16.42 9c.75 0 1.4.06 1.58.08v1.93h-1.09c-.85 0-1.02.43-1.02 1.05v1.38h2.04l-.27 2.15H15.9V21l-2.13-.03z" fill="#292929"></path></svg></button></div><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on linkedin"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M27 15a12 12 0 1 1-24 0 12 12 0 0 1 24 0zm-14.61 5v-7.42h-2.26V20h2.26zm-1.13-8.44c.79 0 1.28-.57 1.28-1.28-.02-.73-.5-1.28-1.26-1.28-.78 0-1.28.55-1.28 1.28 0 .71.49 1.28 1.25 1.28h.01zM15.88 20h-2.5s.04-6.5 0-7.17h2.5v1.02l-.02.02h.02v-.02a2.5 2.5 0 0 1 2.25-1.18c1.64 0 2.87 1.02 2.87 3.22V20h-2.5v-3.83c0-.97-.36-1.62-1.26-1.62-.69 0-1.1.44-1.28.87-.06.15-.08.36-.08.58v4z" fill="#292929"></path></svg></button></div><div class="s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zM9.29 16.28c-.2.36-.29.75-.29 1.17a2.57 2.57 0 0 0 .78 1.84l1.01.96c.53.5 1.17.75 1.92.75s1.38-.25 1.9-.75l1.2-1.15.75-.71.51-.5a2.51 2.51 0 0 0 .72-2.34.7.7 0 0 0-.03-.18 2.74 2.74 0 0 0-.23-.5v-.02l-.08-.14-.02-.03-.02-.01a.33.33 0 0 0-.07-.1c0-.02-.01-.03-.03-.05a.2.2 0 0 0-.03-.03l-.03-.04v-.01l-.02-.03-.04-.03a.85.85 0 0 1-.13-.13l-.43-.42-.06.06-.9.84-.05.09a.26.26 0 0 0-.03.1l.37.38c.04.03.08.07.1.11l.01.01.01.03.02.01.04.1.03.04.06.1v.02l.01.02c.03.1.05.2.05.33a1 1 0 0 1-.12.49c-.07.13-.15.22-.22.29l-.88.85-.61.57-.95.92c-.22.2-.5.3-.82.3-.31 0-.58-.1-.8-.3l-.98-.96a1.15 1.15 0 0 1-.3-.42 1.4 1.4 0 0 1-.04-.35c0-.1.01-.2.04-.3a1 1 0 0 1 .3-.49l1.5-1.46v-.24c0-.21 0-.42.04-.6a3.5 3.5 0 0 1 .92-1.72c-.41.1-.78.32-1.11.62l-.01.02-.01.01-2.46 2.33c-.2.21-.35.4-.44.6h-.02c0 .02 0 .02-.02.02v.02l-.01.01zm3.92-1.8a1.83 1.83 0 0 0 .02.97c0 .06 0 .13.02.19.06.17.14.34.22.5v.02l.06.12.02.03.01.02.08.1c0 .02.02.03.04.05l.08.1h.01c0 .01 0 .03.02.03l.14.14.43.41.08-.06.88-.84.05-.09.03-.1-.36-.37a.4.4 0 0 1-.12-.13v-.02l-.02-.02-.05-.09-.04-.04-.04-.1v-.02l-.02-.02a1.16 1.16 0 0 1 .06-.82c.09-.14.16-.24.23-.3l.9-.85.6-.58.93-.92c.23-.2.5-.3.82-.3a1.2 1.2 0 0 1 .82.3l1 .96c.13.15.23.29.28.42a1.43 1.43 0 0 1 0 .66c-.03.17-.12.33-.26.48l-1.54 1.45.02.25a3.28 3.28 0 0 1-.96 2.32 2.5 2.5 0 0 0 1.1-.62l.01-.01 2.46-2.34c.19-.2.35-.4.46-.6l.02-.02v-.02h.01a2.45 2.45 0 0 0 .21-1.82 2.53 2.53 0 0 0-.7-1.19l-1-.96a2.68 2.68 0 0 0-1.91-.75c-.75 0-1.38.25-1.9.76l-1.2 1.14-.76.72-.5.49c-.4.37-.64.83-.74 1.37z" fill="#292929"></path></svg></button></div><div class="hp s"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;source=post_actions_header--------------------------bookmark_preview--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="hq"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg></a></span></div></div></div></div></div></div><figure class="hs ht hu hv hw hx cr hy gm hz ia ib ic id bf ie if ig ih ii ij paragraph-image"><div role="button" tabindex="0" class="ik il im in ak io"><div class="cn co hr"><img alt="" class="ak ip iq" src="https://miro.medium.com/max/1000/0*f7vr0Eqf96Y4znfR." width="500" height="78" role="presentation"/></div></div></figure><p id="9d42" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">With the <a href="https://media.netflix.com/en/press-releases/netflix-is-now-available-around-the-world" class="ft jn" target="_blank" rel="noopener ugc nofollow">global expansion</a> of Netflix earlier this year came the global expansion of data. After the Active-Active project and <a href="https://medium.com/@Netflix_Techblog/global-cloud-active-active-and-beyond-a0fdfa2c3a45" class="ft jn" rel="noopener">now with the N+1 architecture</a>, the latest personalization data needs to be everywhere at all times to serve any member from any region. Caching plays a critical role in the persistence story for member personalization as detailed in this <a href="https://medium.com/@Netflix_Techblog/announcing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7" class="ft jn" rel="noopener">earlier blog post</a>:</p><div class="jo jp jq jr js jt"><a href="https://medium.com/@Netflix_Techblog/announcing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7" target="_blank" rel="noopener follow"><div class="ju n ax"><div class="jv n jw p jx jy"><h2 class="dk b jz ka br kb fo fp kc fr fs di eg">Announcing EVCache</h2><div class="kd s"><h3 class="ei b ke fk br kf fo fp kc fr fs ez">Distributed in-memory datastore for Cloud</h3></div><div class="kg s"><p class="ei b fy fk br kf fo fp kc fr fs ez">medium.com</p></div></div><div class="kh s"><div class="ki s kj kk kl kh km ip jt"></div></div></div></a></div><p id="2e6e" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">There are two primary components to the Netflix architecture. The first is the control plane that runs on the AWS cloud for generic, scalable computing for member signup, browsing and playback experiences. The second is the data plane, called Open Connect, which is our global video delivery network. This blog is about how we are bringing the power and economy of SSDs to EVCache — the primary caching system in use at Netflix for applications running in the control plane on AWS.</p><p id="e906" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">One of the main use cases of EVCache is to act as globally replicated storage for personalized data for each of our more than 81 million members. EVCache plays a variety of roles inside Netflix besides holding this data, including acting as a standard working-set cache for things like subscriber information. But its largest role is for personalization. Serving anyone from anywhere means that we must hold all of the personalized data for every member in each of the three regions that we operate in. This enables a consistent experience in all AWS regions and allows us to easily shift traffic during regional outages or during regular traffic shaping exercises to balance load. We have spoken at length about the replication system used to make this happen in a <a href="https://medium.com/@Netflix_Techblog/caching-for-a-global-netflix-7bcc457012f1" class="ft jn" rel="noopener">previous blog post</a>:</p><div class="jo jp jq jr js jt"><a href="https://medium.com/@Netflix_Techblog/caching-for-a-global-netflix-7bcc457012f1" target="_blank" rel="noopener follow"><div class="ju n ax"><div class="jv n jw p jx jy"><h2 class="dk b jz ka br kb fo fp kc fr fs di eg">Caching for a Global Netflix</h2><div class="kd s"><h3 class="ei b ke fk br kf fo fp kc fr fs ez">#CachesEverywhere</h3></div><div class="kg s"><p class="ei b fy fk br kf fo fp kc fr fs ez">medium.com</p></div></div><div class="kh s"><div class="kn s kj kk kl kh km ip jt"></div></div></div></a></div><p id="ba87" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">During steady state, our regions tend to see the same members over and over again. Switching between regions is not a very common phenomenon for our members. Even though their data is in RAM in all three regions, only one region is being used regularly per member. Extrapolating from this, we can see that each region has a different working set for these types of caches. A small subset is hot data and the rest is cold.</p><p id="cad4" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">Besides the hot/cold data separation, the cost of holding all of this data in memory is growing along with our member base. As well, different A/B tests and other internal changes can add even more data. For our working set of members, we have billions of keys already and that number will only grow. We have the challenge of continuing to support Netflix use cases while balancing cost. To meet this challenge, we are introducing a multi-level caching scheme using both RAM and SSDs.</p><p id="7812" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">The EVCache project to take advantage of this global request distribution and cost optimization is called <em class="ko">Moneta</em>, named for the Latin Goddess of Memory, and Juno Moneta, the Protectress of Funds for Juno.</p><h1 id="a243" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Current Architecture</h1><p id="13d7" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">We will talk about the current architecture of the EVCache servers and then talk about how this is evolving to enable SSD support.</p><p id="1d37" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">The picture below shows a typical deployment for EVCache and the relationship between a single client instance and the servers. A client of EVCache will connect to several clusters of EVCache servers. In a region we have multiple copies of the whole dataset, separated by AWS Availability Zone. The dashed boxes delineate the in-region replicas, each of which has a full copy of the data and acts as a unit. We manage these copies as separate AWS Auto Scaling groups. Some caches have 2 copies per region, and some have many. This high level architecture is still valid for us for the foreseeable future and is not changing. Each client connects to all of the servers in all zones in their own region. Writes are sent to all copies and reads prefer topologically close servers for read requests. To see more detail about the EVCache architecture, see <a href="https://medium.com/@Netflix_Techblog/announcing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7" class="ft jn" rel="noopener">our original announcement blog post</a>.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div class="cn co lq"><div class="lw s im lx"><div class="ly lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*SmIulc1_uF9uNuDr.?q=20" width="676" height="249" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="676" height="249" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/1352/0*SmIulc1_uF9uNuDr." width="676" height="249" srcSet="https://miro.medium.com/max/552/0*SmIulc1_uF9uNuDr. 276w, https://miro.medium.com/max/1104/0*SmIulc1_uF9uNuDr. 552w, https://miro.medium.com/max/1280/0*SmIulc1_uF9uNuDr. 640w, https://miro.medium.com/max/1352/0*SmIulc1_uF9uNuDr. 676w" sizes="676px" role="presentation"/></noscript></div></div></div></figure><p id="2796" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">The server as it has evolved over the past few years is a collection of a few processes, with two main ones: stock Memcached, a popular and battle tested in-memory key-value store, and Prana, the Netflix sidecar process. Prana is the server’s hook into the rest of Netflix’s ecosystem, which is still primarily Java-based. Clients connect directly to the Memcached process running on each server. The servers are independent and do not communicate with one another.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div class="cn co md"><div class="lw s im lx"><div class="me lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*OPxLARy3i5OdqeQ3.?q=20" width="428" height="184" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="428" height="184" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/856/0*OPxLARy3i5OdqeQ3." width="428" height="184" srcSet="https://miro.medium.com/max/552/0*OPxLARy3i5OdqeQ3. 276w, https://miro.medium.com/max/856/0*OPxLARy3i5OdqeQ3. 428w" sizes="428px" role="presentation"/></noscript></div></div></div></figure><h1 id="b862" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Optimization</h1><p id="271d" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">As one of the largest subsystems of the Netflix cloud, we’re in a unique position to apply optimizations across a significant percentage of our cloud footprint. The cost of holding all of the cached data in memory is growing along with our member base. The output of a single stage of a single day’s personalization batch process can load more than 5 terabytes of data into its dedicated EVCache cluster. The cost of storing this data is multiplied by the number of global copies of data that we store. As mentioned earlier, different A/B tests and other internal changes can add even more data. For just our working set of members, we have many billions of keys today, and that number will only grow.</p><p id="9a88" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">To take advantage of the different data access patterns that we observe in different regions, we built a system to store the hot data in RAM and cold data on disk. This is a classic two-level caching architecture (where L1 is RAM and L2 is disk), however engineers within Netflix have come to rely on the consistent, low-latency performance of EVCache. Our requirements were to be as low latency as possible, use a more balanced amount of (expensive) RAM, and take advantage of lower-cost SSD storage while still delivering the low latency our clients expect.</p><p id="06e8" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">In-memory EVCache clusters run on the AWS r3 family of instance types, which are optimized for large memory footprints. By moving to the i2 family of instances, we gain access to 10 times the amount of fast SSD storage as we had on the r3 family (80 → 800GB from r3.xlarge to i2.xlarge) with the equivalent RAM and CPU. We also downgraded instance sizes to a smaller amount of memory. Combining these two, we have a potential of substantial cost optimization across our many thousands of servers.</p><h1 id="800d" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Moneta architecture</h1><p id="e518" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">The Moneta project introduces two new processes to the EVCache server: Rend and Mnemonic. Rend is a high-performance proxy written in Go with Netflix use cases as the primary driver for development. Mnemonic is a disk-backed key-value store based on <a href="http://rocksdb.org/" class="ft jn" target="_blank" rel="noopener ugc nofollow">RocksDB</a>. Mnemonic reuses the Rend server components that handle protocol parsing (for speaking the Memcached protocols), connection management, and parallel locking (for correctness). All three servers actually speak the Memcached text and binary protocols, so client interactions between any of the three have the same semantics. We use this to our advantage when debugging or doing consistency checking.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div class="cn co mf"><div class="lw s im lx"><div class="mg lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*yn0qBWsJvbyH7fiH.?q=20" width="417" height="238" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="417" height="238" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/834/0*yn0qBWsJvbyH7fiH." width="417" height="238" srcSet="https://miro.medium.com/max/552/0*yn0qBWsJvbyH7fiH. 276w, https://miro.medium.com/max/834/0*yn0qBWsJvbyH7fiH. 417w" sizes="417px" role="presentation"/></noscript></div></div></div></figure><p id="44af" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">Where clients previously connected to Memcached directly, they now connect to Rend. From there, Rend will take care of the L1/L2 interactions between Memcached and Mnemonic. Even on servers that do not use Mnemonic, Rend still provides valuable server-side metrics that we could not previously get from Memcached, such as server-side request latencies. The latency introduced by Rend, in conjunction with Memcached only, averages only a few dozen microseconds.</p><p id="14cd" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">As a part of this redesign, we could have integrated the three processes together. We chose to have three independent processes running on each server to maintain separation of concerns. This setup affords better data durability on the server. If Rend crashes, the data is still intact in Memcached and Mnemonic. The server is able to serve customer requests once they reconnect to a resurrected Rend process. If Memcached crashes, we lose the working set but the data in L2 (Mnemonic) is still available. Once the data is requested again, it will be back in the hot set and served as it was before. If Mnemonic crashes, it wouldn’t lose all the data, but only possibly a small set that was written very recently. Even if it did lose the data, at least we have the hot data still in RAM and available for those users who are actually using the service. This resiliency to crashes is on top of the resiliency measures in the EVCache client.</p><h1 id="6fe8" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Rend</h1><p id="bffc" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">Rend, as mentioned above, acts as a proxy in front of the two other processes on the server that actually store the data. It is a high-performance server that speaks the binary and text Memcached protocols. It is written in Go and relies heavily on goroutines and other language primitives to handle concurrency. The project is fully open source and <a href="https://github.com/netflix/rend" class="ft jn" target="_blank" rel="noopener ugc nofollow">available on Github</a>. The decision to use Go was deliberate, because we needed something that had lower latency than Java (where garbage collection pauses are an issue) and is more productive for developers than C, while also handling tens of thousands of client connections. Go fits this space well.</p><p id="7afc" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">Rend has the responsibility of managing the relationship between the L1 and L2 caches on the box. It has a couple of different policies internally that apply to different use cases. It also has a feature to cut data into fixed size chunks as the data is being inserted into Memcached to avoid pathological behavior of the memory allocation scheme inside Memcached. This server-side chunking is replacing our client-side version, and is already showing promise. So far, it’s twice as fast for reads and up to 30 times faster for writes. Fortunately, Memcached, as of 1.4.25, has become much more resilient to the bad client behavior that caused problems before. We may drop the chunking feature in the future as we can depend on L2 to have the data if it is evicted from L1.</p><h2 id="194f" class="mh kq dj ei kr mi mj el ku mk ml eo kx ep mm er lb es mn eu lf ev mo ex lj mp eg">Design</h2><p id="6f48" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">The design of Rend is modular to allow for configurable functionality. Internally, there are a few layers: Connection management, a server loop, protocol-specific code, request orchestration, and backend handlers. To the side is a custom metrics package that enables Prana, our sidecar, to poll for metrics information while not being too intrusive. Rend also comes with a testing client library that has a separate code base. This has helped immensely in finding protocol bugs or other errors such as misalignment, unflushed buffers, and unfinished responses.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div class="cn co mq"><div class="lw s im lx"><div class="mr lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*94zFkB9am7gRMVqS.?q=20" width="382" height="228" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="382" height="228" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/764/0*94zFkB9am7gRMVqS." width="382" height="228" srcSet="https://miro.medium.com/max/552/0*94zFkB9am7gRMVqS. 276w, https://miro.medium.com/max/764/0*94zFkB9am7gRMVqS. 382w" sizes="382px" role="presentation"/></noscript></div></div></div></figure><p id="0b79" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">Rend’s design allows different backends to be plugged in with the fulfillment of an interface and a constructor function. To prove this design out, an engineer familiar with the code base took less than a day to learn LMDB and integrate it as a storage backend. The code for this experiment can be found at <a href="https://github.com/Netflix/rend-lmdb" class="ft jn" target="_blank" rel="noopener ugc nofollow">https://github.com/Netflix/rend-lmdb</a>.</p><h2 id="f596" class="mh kq dj ei kr mi mj el ku mk ml eo kx ep mm er lb es mn eu lf ev mo ex lj mp eg">Usage in Production</h2><p id="c4e1" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">For the caches that Moneta serves best, there are a couple of different classes of clients that a single server serves. One class is online traffic in the hot path, requesting personalization data for a visiting member. The other is traffic from the offline and nearline systems that produce personalization data. These typically run in large batches overnight and continually write for hours on end.</p><p id="33f8" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">The modularity allows our default implementation to optimize for our nightly batch compute by inserting data into L2 directly and smartly replacing hot data in L1, rather than letting those writes blow away our L1 cache during the nightly precompute. The replicated data coming from other regions can also be inserted directly into L2, since data replicated from another region is unlikely to be “hot” in its destination region. The diagram below shows the multiple open ports in one Rend process that both connect to the backing stores. With the modularity of Rend, it was easy to introduce another server on a different port for batch and replication traffic with only a couple more lines of code.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div role="button" tabindex="0" class="ik il im in ak io"><div class="cn co ms"><div class="lw s im lx"><div class="mt lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*MH8HsYzChkpTBkh5.?q=20" width="416" height="230" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="416" height="230" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/832/0*MH8HsYzChkpTBkh5." width="416" height="230" srcSet="https://miro.medium.com/max/552/0*MH8HsYzChkpTBkh5. 276w, https://miro.medium.com/max/832/0*MH8HsYzChkpTBkh5. 416w" sizes="416px" role="presentation"/></noscript></div></div></div></div></figure><h2 id="1dc2" class="mh kq dj ei kr mi mj el ku mk ml eo kx ep mm er lb es mn eu lf ev mo ex lj mp eg">Performance</h2><p id="0417" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">Rend itself is very high throughput. While testing Rend separately, we consistently hit network bandwidth or packet processing limits before maxing CPU. A single server, for requests that do not need to hit the backing store, has been driven to 2.86 million requests per second. This is a raw, but unrealistic, number. With Memcached as the only backing storage, Rend can sustain 225k inserts per second and 200k reads per second simultaneously on the largest instance we tested. An i2.xlarge instance configured to use both L1 and L2 (memory and disk) and data chunking, which is used as a standard instance for our production clusters, can perform 22k inserts per second (with sets only), 21k reads per second (with gets only), and roughly 10k sets and 10k gets per second if both are done simultaneously. These are lower bounds for our production traffic, because the test load consisted of random keys thus affording no data locality benefits during access. Real traffic will hit the L1 cache much more frequently than random keys do.</p><p id="7047" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">As a server-side application, Rend unlocks all kinds of future possibilities for intelligence on the EVCache server. Also, the underlying storage is completely disconnected from the protocol used to communicate. Depending on Netflix needs, we could move L2 storage off-box, replace the L1 Memcached with another store, or change the server logic to add global locking or consistency. These aren’t planned projects, but they are possible now that we have custom code running on the server.</p><h1 id="6c4c" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Mnemonic</h1><p id="727a" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">Mnemonic is our RocksDB-based L2 solution. It stores data on disk. The protocol parsing, connection management, and concurrency control of Mnemonic are all managed by the same libraries that power Rend. Mnemonic is another backend that is plugged into a Rend server. The native libraries in the Mnemonic project expose a custom C API that is consumed by a Rend handler.</p><figure class="hs ht hu hv hw hx cn co paragraph-image"><div class="cn co mu"><div class="lw s im lx"><div class="mv lz s"><div class="lr ls t u v lt ak br lu lv"><img alt="" class="t u v lt ak ma mb mc" src="https://miro.medium.com/max/60/0*79WCQ20zHMuePlRw.?q=20" width="270" height="173" role="presentation"/></div><img alt="" class="lr ls t u v lt ak c" width="270" height="173" role="presentation"/><noscript><img alt="" class="t u v lt ak" src="https://miro.medium.com/max/540/0*79WCQ20zHMuePlRw." width="270" height="173" role="presentation"/></noscript></div></div></div></figure><p id="15fa" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">The interesting parts of Mnemonic are in the C++ core layer that wraps RocksDB. Mnemonic handles the Memcached-style requests, implementing each of the needed operations to conform to Memcached behavior, including TTL support. It includes one more important feature: it shards requests across multiple RocksDB databases on a local system to reduce the work for each individual instance of RocksDB. The reasons why will be explored in the next section.</p><h2 id="ff13" class="mh kq dj ei kr mi mj el ku mk ml eo kx ep mm er lb es mn eu lf ev mo ex lj mp eg">RocksDB</h2><p id="687b" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">After looking at some options for efficiently accessing SSDs, we picked <a href="http://rocksdb.org/" class="ft jn" target="_blank" rel="noopener ugc nofollow">RocksDB</a>, an embedded key-value store which uses a Log Structured Merge Tree data structure design. Write operations are first inserted into a in-memory data structure (a memtable) that is flushed to disk when full. When flushed to disk, the memtable becomes an immutable SST file. This makes most writes sequential to the SSD, which reduces the amount of internal garbage collection that the SSD must perform and thus improve latency on long running instances while also reducing wear.</p><p id="e0f9" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">One type of work that is done in the background by each separate instance of RocksDB includes compaction. We initially used the Level style compaction configuration, which was the main reason to shard the requests across multiple databases. However, while we were evaluating this compaction configuration with production data and production-like traffic, we found that compaction was causing a great deal of extra read/write traffic to the SSD, increasing latencies past what we found acceptable. The SSD read traffic surpassed 200MB/sec at times. Our evaluation traffic included a prolonged period where the number of write operations was high, simulating daily batch compute processes. During that period, RocksDB was constantly moving new L0 records into the higher levels, causing a very high write amplification.</p><p id="8b3e" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">To avoid this overhead, we switched to FIFO style compaction. In this configuration, no real compaction operation is done. Old SST files are deleted based on the maximum size of the database. Records stay on disk in level 0, so the records are only ordered by time across the multiple SST files. The downside of this configuration is that a read operation must check each SST file in reverse chronological order before a key is determined to be missing. This check does not usually require a disk read, as the RocksDB bloom filters prevent a high percentage of the queries from requiring a disk access on each SST. However, the number of SST files causes the overall effectiveness of the set of bloom filters to be less than the normal Level style compaction. The initial sharding of the incoming read and write requests across the multiple RocksDB instances helps lessen the negative impact of scanning so many files.</p><h2 id="741c" class="mh kq dj ei kr mi mj el ku mk ml eo kx ep mm er lb es mn eu lf ev mo ex lj mp eg">Performance</h2><p id="043e" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">Re-running our evaluation test again with the final compaction configuration, we are able to achieve a 99th percentile latency of ~9ms for read queries during our precompute load. After the precompute load completed, the 99th percentile read latency reduced to ~600μs on the same level of read traffic. All of these tests were run without Memcached and without RocksDB block caching.</p><p id="63b1" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">To allow this solution to work with more varied uses, we will need to reduce the number of SST files that needs to be checked per query. We are exploring options like RocksDB’s Universal style compaction or our own custom compaction where we could better control the compaction rate thereby lowering the amount of data transferred to and from the SSD.</p><h1 id="718c" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">Conclusion</h1><p id="6267" class="ir is dj it b ej ll iv iw em lm iy iz ja ln jc jd je lo jg jh ji lp jk jl jm db eg">We are rolling out our solution in phases in production. Rend is currently in production serving some of our most important personalization data sets. Early numbers show faster operations with increased reliability, as we are less prone to temporary network problems. We are in the process of deploying the Mnemonic (L2) backend to our early adopters. While we’re still in the process of tuning the system, the results look promising with the potential for substantial cost savings while still allowing the ease of use and speed that EVCache has always afforded its users.</p><p id="b32d" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg">It has been quite a journey to production deployment, and there’s still much to do: deploy widely, monitor, optimize, rinse and repeat. The new architecture for EVCache Server is allowing us to continue to innovate in ways that matter. If you want to help solve this or similar big problems in cloud architecture, <a href="http://jobs.netflix.com/" class="ft jn" target="_blank" rel="noopener ugc nofollow">join us</a>.</p><p id="c16a" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg"><em class="ko">— </em><a href="https://www.linkedin.com/in/scottgmansfield" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">Scott Mansfield</em></a><em class="ko"> (</em><a href="https://twitter.com/sgmansfield" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">@sgmansfield</em></a><em class="ko">), </em><a href="https://www.linkedin.com/in/vu-nguyen-16b4303" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">Vu Tuan Nguyen</em></a><em class="ko">, </em><a href="https://www.linkedin.com/in/sridhar-enugula-96ab953" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">Sridhar Enugula</em></a><em class="ko">, </em><a href="https://www.linkedin.com/in/shashishekar" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">Shashi Madappa</em></a><em class="ko"> on behalf of the EVCache Team</em></p><h1 id="a9f2" class="kp kq dj ei kr ks kt iv ku kv kw iy kx ky kz la lb lc ld le lf lg lh li lj lk eg">See Also:</h1><div class="jo jp jq jr js jt"><a href="https://medium.com/@Netflix_Techblog/global-cloud-active-active-and-beyond-a0fdfa2c3a45" target="_blank" rel="noopener follow"><div class="ju n ax"><div class="jv n jw p jx jy"><h2 class="dk b jz ka br kb fo fp kc fr fs di eg">Global Cloud — Active-Active and Beyond</h2><div class="kd s"><h3 class="ei b ke fk br kf fo fp kc fr fs ez">we set out to make our cloud deployment even more resilient</h3></div><div class="kg s"><p class="ei b fy fk br kf fo fp kc fr fs ez">medium.com</p></div></div><div class="kh s"><div class="mw s kj kk kl kh km ip jt"></div></div></div></a></div></div></div></section><div class="n p fa mx my ie" role="separator"><span class="mz ff gn na nb nc"></span><span class="mz ff gn na nb nc"></span><span class="mz ff gn na nb"></span></div><section class="db dc dd de df"><div class="n p"><div class="ac ae af ag ah dg aj ak"><p id="1951" class="ir is dj it b ej iu iv iw em ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm db eg"><em class="ko">Originally published at </em><a href="http://techblog.netflix.com/2016/05/application-data-caching-using-ssds.html" class="ft jn" target="_blank" rel="noopener ugc nofollow"><em class="ko">techblog.netflix.com</em></a><em class="ko"> on May 25, 2016.</em></p></div></div></section></div></div></article><div class="lr da ne nl ak nm u nj nn" data-test-id="post-sidebar"><div class="n p"><div class="ac ae af ag ah ai aj ak"><div class="no n jw"><div class="da"><div><div class="np s"><a href="https://netflixtechblog.com/?source=post_sidebar--------------------------post_sidebar--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><h2 class="ei kr ke fk di eg db">Netflix TechBlog</h2></a><div class="nq nr s"><p class="ei b fj fk br ns fo fp nt fr fs ez">Learn about Netflix’s world class engineering efforts…</p></div><div class="gn" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;collection=Netflix+TechBlog&amp;collectionId=2615bd06b42e&amp;source=post_sidebar--------------------------follow_sidebar--------------" class="ei b fj fk fz nu gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow"><div class="n nv">Follow</div></a></span></div></div><div class="nw nx ak n o nv ny"><div class="nc n"><div class="n o nv"><div class="s im nz oa ob oc od"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=post_sidebar-----5bf25df851ef---------------------clap_sidebar--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><div class="bf oe of og oh oi oj ok r ol om"><svg width="29" height="29" aria-label="clap"><g fill-rule="evenodd"><path d="M13.74 1l.76 2.97.76-2.97zM16.82 4.78l1.84-2.56-1.43-.47zM10.38 2.22l1.84 2.56-.41-3.03zM22.38 22.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M9.1 22.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L6.1 15.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L6.4 11.26l-1.18-1.18a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L11.96 14a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L8.43 9.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L20.63 15c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM13 6.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 23 23.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s on oo op oq or os ot"><div class="ou"><p class="ei b fj fk ez"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx">130<!-- --> </button></p></div></div></div></div><div class="ov nc s"><div class="n"><button class="oh of bf"><div class="n o nv"><div class="n o"><svg width="25" height="25" aria-label="responses" class="ow ox oh om"><path d="M19.07 21.12a6.33 6.33 0 0 1-3.53-1.1 7.8 7.8 0 0 1-.7-.52c-.77.21-1.57.32-2.38.32-4.67 0-8.46-3.5-8.46-7.8C4 7.7 7.79 4.2 12.46 4.2c4.66 0 8.46 3.5 8.46 7.8 0 2.06-.85 3.99-2.4 5.45a6.28 6.28 0 0 0 1.14 2.59c.15.21.17.48.06.7a.69.69 0 0 1-.62.38h-.03zm0-1v.5l.03-.5h-.03zm-3.92-1.64l.21.2a6.09 6.09 0 0 0 3.24 1.54 7.14 7.14 0 0 1-.83-1.84 5.15 5.15 0 0 1-.16-.75 2.4 2.4 0 0 1-.02-.29v-.23l.18-.15a6.6 6.6 0 0 0 2.3-4.96c0-3.82-3.4-6.93-7.6-6.93-4.19 0-7.6 3.11-7.6 6.93 0 3.83 3.41 6.94 7.6 6.94.83 0 1.64-.12 2.41-.35l.28-.08z" fill-rule="evenodd"></path></svg></div></div></button></div></div><div class="oy s"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;source=post_sidebar-----5bf25df851ef---------------------bookmark_sidebar--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="hq"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg></a></span></div></div></div></div></div></div></div></div><div class="lr da nd ne nf ng nh ni nj nk"></div><div><div class="oz hx n jw p"><div class="n p"><div class="ac ae af ag ah dg aj ak"><div class="n pa"></div><div class="n o pa"></div><div class="pb s"><ul class="bf bg"><li class="gn bw pc pd"><a href="/tagged/caching" class="ei b fy pe ez pf pg go s gx">Caching</a></li><li class="gn bw pc pd"><a href="/tagged/cloud-architecture" class="ei b fy pe ez pf pg go s gx">Cloud Architecture</a></li><li class="gn bw pc pd"><a href="/tagged/evcache" class="ei b fy pe ez pf pg go s gx">Evcache</a></li><li class="gn bw pc pd"><a href="/tagged/netflixoss" class="ei b fy pe ez pf pg go s gx">Netflixoss</a></li><li class="gn bw pc pd"><a href="/tagged/performance" class="ei b fy pe ez pf pg go s gx">Performance</a></li></ul></div><div class="pb s"><div class="n fb z"><div class="n o nv"><div class="ph s"><span class="s pi pj pk e d"><div class="n o nv"><div class="s im nz oa ob oc od"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=post_actions_footer-----5bf25df851ef---------------------clap_footer--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><div class="bf oe of og oh oi oj ok r ol om"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s on oo op oq pl pm pn"><div class="im po ou"><p class="ei b fj fk eg"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx">130<span class="s h g f pp pq"> <!-- -->claps</span></button><span class="s h g f pp pq"></span></p></div></div></div></span><span class="s h g f pp pq"><div class="n o nv"><div class="s im nz oa ob oc od"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fvote%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=post_actions_footer-----5bf25df851ef---------------------clap_footer--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><div class="bf oe of og oh oi oj ok r ol om"><svg width="25" height="25" viewBox="0 0 25 25" aria-label="clap"><g fill-rule="evenodd"><path d="M11.74 0l.76 2.97.76-2.97zM14.81 3.78l1.84-2.56-1.42-.47zM8.38 1.22l1.84 2.56L9.8.75zM20.38 21.62a5.11 5.11 0 0 1-3.16 1.61l.49-.45c2.88-2.89 3.45-5.98 1.69-9.21l-1.1-1.94-.96-2.02c-.31-.67-.23-1.18.25-1.55a.84.84 0 0 1 .66-.16c.34.05.66.28.88.6l2.85 5.02c1.18 1.97 1.38 5.12-1.6 8.1M7.1 21.1l-5.02-5.02a1 1 0 0 1 .7-1.7 1 1 0 0 1 .72.3l2.6 2.6a.44.44 0 0 0 .63-.62L4.1 14.04l-1.75-1.75a1 1 0 1 1 1.41-1.41l4.15 4.15a.44.44 0 0 0 .63 0 .44.44 0 0 0 0-.62L4.4 10.26 3.22 9.08a1 1 0 0 1 0-1.4 1.02 1.02 0 0 1 1.41 0l1.18 1.16L9.96 13a.44.44 0 0 0 .62 0 .44.44 0 0 0 0-.63L6.43 8.22a.99.99 0 0 1-.3-.7.99.99 0 0 1 .3-.7 1 1 0 0 1 1.41 0l7 6.98a.44.44 0 0 0 .7-.5l-1.35-2.85c-.31-.68-.23-1.19.25-1.56a.85.85 0 0 1 .66-.16c.34.06.66.28.88.6L18.63 14c1.57 2.88 1.07 5.54-1.55 8.16a5.62 5.62 0 0 1-5.06 1.65 9.35 9.35 0 0 1-4.93-2.72zM11 5.98l2.56 2.56c-.5.6-.56 1.41-.15 2.28l.26.56-4.25-4.25a.98.98 0 0 1-.12-.45 1 1 0 0 1 .29-.7 1.02 1.02 0 0 1 1.41 0zm8.89 2.06c-.38-.56-.9-.92-1.49-1.01a1.74 1.74 0 0 0-1.34.33c-.38.29-.61.65-.71 1.06a2.1 2.1 0 0 0-1.1-.56 1.78 1.78 0 0 0-.99.13l-2.64-2.64a1.88 1.88 0 0 0-2.65 0 1.86 1.86 0 0 0-.48.85 1.89 1.89 0 0 0-2.67-.01 1.87 1.87 0 0 0-.5.9c-.76-.75-2-.75-2.7-.04a1.88 1.88 0 0 0 0 2.66c-.3.12-.61.29-.87.55a1.88 1.88 0 0 0 0 2.66l.62.62a1.88 1.88 0 0 0-.9 3.16l5.01 5.02c1.6 1.6 3.52 2.64 5.4 2.96a7.16 7.16 0 0 0 1.18.1c1.03 0 2-.25 2.9-.7A5.9 5.9 0 0 0 21 22.24c3.34-3.34 3.08-6.93 1.74-9.17l-2.87-5.04z"></path></g></svg></div></a></span></div><div class="s on oo op oq pl pm pn"><div class="ou"><p class="ei b fj fk ez"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx">130<!-- --> </button></p></div></div></div></span></div><div class="pr n"><div class="n"><button class="oh of bf"><div class="n o nv"><div class="n o"><svg width="29" height="29" aria-label="responses" class="ow ox oh om ps"><path d="M21.27 20.06a9.04 9.04 0 0 0 2.75-6.68C24.02 8.21 19.67 4 14.1 4S4 8.21 4 13.38c0 5.18 4.53 9.39 10.1 9.39 1 0 2-.14 2.95-.41.28.25.6.49.92.7a7.46 7.46 0 0 0 4.19 1.3c.27 0 .5-.13.6-.35a.63.63 0 0 0-.05-.65 8.08 8.08 0 0 1-1.29-2.58 5.42 5.42 0 0 1-.15-.75zm-3.85 1.32l-.08-.28-.4.12a9.72 9.72 0 0 1-2.84.43c-4.96 0-9-3.71-9-8.27 0-4.55 4.04-8.26 9-8.26 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32a5.59 5.59 0 0 0 .21 1.29c.19.7.49 1.4.89 2.08a6.43 6.43 0 0 1-2.67-1.06c-.34-.22-.88-.48-1.16-.74z"></path></svg></div></div></button></div></div></div><div class="n o"><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on twitter"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zm4.95-16.17a2.67 2.67 0 0 0-4.6 1.84c0 .2.03.41.05.62a7.6 7.6 0 0 1-5.49-2.82 3 3 0 0 0-.38 1.34c.02.94.49 1.76 1.2 2.23a2.53 2.53 0 0 1-1.2-.33v.04c0 1.28.92 2.36 2.14 2.62-.23.05-.46.08-.71.1l-.21-.02-.27-.03a2.68 2.68 0 0 0 2.48 1.86A5.64 5.64 0 0 1 9 19.38a7.62 7.62 0 0 0 4.1 1.19c4.9 0 7.58-4.07 7.57-7.58v-.39c.52-.36.97-.83 1.33-1.38-.48.23-1 .37-1.53.43.56-.33.96-.86 1.15-1.48-.5.31-1.07.53-1.67.66z" fill="#292929"></path></svg></button></div><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on facebook"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zm-1.23-6.03V15.6H12v-2.15h1.77v-1.6C13.77 10 14.85 9 16.42 9c.75 0 1.4.06 1.58.08v1.93h-1.09c-.85 0-1.02.43-1.02 1.05v1.38h2.04l-.27 2.15H15.9V21l-2.13-.03z" fill="#292929"></path></svg></button></div><div class="hm s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" aria-label="Share on linkedin"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M27 15a12 12 0 1 1-24 0 12 12 0 0 1 24 0zm-14.61 5v-7.42h-2.26V20h2.26zm-1.13-8.44c.79 0 1.28-.57 1.28-1.28-.02-.73-.5-1.28-1.26-1.28-.78 0-1.28.55-1.28 1.28 0 .71.49 1.28 1.25 1.28h.01zM15.88 20h-2.5s.04-6.5 0-7.17h2.5v1.02l-.02.02h.02v-.02a2.5 2.5 0 0 1 2.25-1.18c1.64 0 2.87 1.02 2.87 3.22V20h-2.5v-3.83c0-.97-.36-1.62-1.26-1.62-.69 0-1.1.44-1.28.87-.06.15-.08.36-.08.58v4z" fill="#292929"></path></svg></button></div><div class="s ax"><button class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx"><svg width="30" height="30" viewBox="0 0 30 30" fill="none" class="hn ho"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 27a12 12 0 1 0 0-24 12 12 0 0 0 0 24zM9.29 16.28c-.2.36-.29.75-.29 1.17a2.57 2.57 0 0 0 .78 1.84l1.01.96c.53.5 1.17.75 1.92.75s1.38-.25 1.9-.75l1.2-1.15.75-.71.51-.5a2.51 2.51 0 0 0 .72-2.34.7.7 0 0 0-.03-.18 2.74 2.74 0 0 0-.23-.5v-.02l-.08-.14-.02-.03-.02-.01a.33.33 0 0 0-.07-.1c0-.02-.01-.03-.03-.05a.2.2 0 0 0-.03-.03l-.03-.04v-.01l-.02-.03-.04-.03a.85.85 0 0 1-.13-.13l-.43-.42-.06.06-.9.84-.05.09a.26.26 0 0 0-.03.1l.37.38c.04.03.08.07.1.11l.01.01.01.03.02.01.04.1.03.04.06.1v.02l.01.02c.03.1.05.2.05.33a1 1 0 0 1-.12.49c-.07.13-.15.22-.22.29l-.88.85-.61.57-.95.92c-.22.2-.5.3-.82.3-.31 0-.58-.1-.8-.3l-.98-.96a1.15 1.15 0 0 1-.3-.42 1.4 1.4 0 0 1-.04-.35c0-.1.01-.2.04-.3a1 1 0 0 1 .3-.49l1.5-1.46v-.24c0-.21 0-.42.04-.6a3.5 3.5 0 0 1 .92-1.72c-.41.1-.78.32-1.11.62l-.01.02-.01.01-2.46 2.33c-.2.21-.35.4-.44.6h-.02c0 .02 0 .02-.02.02v.02l-.01.01zm3.92-1.8a1.83 1.83 0 0 0 .02.97c0 .06 0 .13.02.19.06.17.14.34.22.5v.02l.06.12.02.03.01.02.08.1c0 .02.02.03.04.05l.08.1h.01c0 .01 0 .03.02.03l.14.14.43.41.08-.06.88-.84.05-.09.03-.1-.36-.37a.4.4 0 0 1-.12-.13v-.02l-.02-.02-.05-.09-.04-.04-.04-.1v-.02l-.02-.02a1.16 1.16 0 0 1 .06-.82c.09-.14.16-.24.23-.3l.9-.85.6-.58.93-.92c.23-.2.5-.3.82-.3a1.2 1.2 0 0 1 .82.3l1 .96c.13.15.23.29.28.42a1.43 1.43 0 0 1 0 .66c-.03.17-.12.33-.26.48l-1.54 1.45.02.25a3.28 3.28 0 0 1-.96 2.32 2.5 2.5 0 0 0 1.1-.62l.01-.01 2.46-2.34c.19-.2.35-.4.46-.6l.02-.02v-.02h.01a2.45 2.45 0 0 0 .21-1.82 2.53 2.53 0 0 0-.7-1.19l-1-.96a2.68 2.68 0 0 0-1.91-.75c-.75 0-1.38.25-1.9.76l-1.2 1.14-.76.72-.5.49c-.4.37-.64.83-.74 1.37z" fill="#292929"></path></svg></button></div><div class="hp s ax"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fbookmark%2Fp%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;source=post_actions_footer--------------------------bookmark_footer--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><svg width="25" height="25" viewBox="0 0 25 25" fill="none" class="hq"><path d="M18 2.5a.5.5 0 0 1 1 0V5h2.5a.5.5 0 0 1 0 1H19v2.5a.5.5 0 1 1-1 0V6h-2.5a.5.5 0 0 1 0-1H18V2.5zM7 7a1 1 0 0 1 1-1h3.5a.5.5 0 0 0 0-1H8a2 2 0 0 0-2 2v14a.5.5 0 0 0 .8.4l5.7-4.4 5.7 4.4a.5.5 0 0 0 .8-.4v-8.5a.5.5 0 0 0-1 0v7.48l-5.2-4a.5.5 0 0 0-.6 0l-5.2 4V7z" fill="#292929"></path></svg></a></span></div></div></div></div></div></div><div><div class="n p"><div class="ac ae af ag ah dg aj ak"><div class="nw nx pt pb s pu z"><div class="s g"><div class="pv pw s im"><span class="s px an py"><div class="s t pz qa"><a href="https://netflixtechblog.medium.com/?source=follow_footer-----5bf25df851ef-----------------------------------" rel="noopener follow"><img alt="Netflix Technology Blog" class="s ff cd qb" src="https://miro.medium.com/fit/c/160/160/1*BJWRqfSMf9Da9vsXG9EBRQ.jpeg" width="80" height="80"/></a></div><span class="s"><div class="qc s qd"><p class="ei b fy qe qf ez qg">Written by</p></div><div class="qc qh n qd"><div class="ak n o fb"><h2 class="ei kr qi ka di eg"><a href="https://netflixtechblog.medium.com/?source=follow_footer-----5bf25df851ef-----------------------------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow">Netflix Technology Blog</a></h2><div class="s g"><div class="fi n"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3aeaf49d8a4%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=follow_footer-c3aeaf49d8a4----5bf25df851ef---------------------follow_footer--------------" class="ei b fj fk fz qj gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow">Follow</a></span><div class="fi s"><div><div><div class="gn" role="tooltip" aria-hidden="false"><div class="s"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8ddcdec29142&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;newsletterV3=c3aeaf49d8a4&amp;newsletterV3Id=8ddcdec29142&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=follow_footer-----5bf25df851ef---------------------subscribe_user--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><button class="ei b fj fk gv bf gw gx gy gz ha hb hc hd gg gh gi gj gk gl gm cq gn go" aria-label="Subscribe"><svg width="38" height="38" viewBox="0 0 38 38" fill="none" class="gq av qk"><rect x="26.25" y="9.25" width="0.5" height="6.5" rx="0.25" stroke-width="0.5"></rect><rect x="29.75" y="12.25" width="0.5" height="6.5" rx="0.25" transform="rotate(90 29.75 12.25)" stroke-width="0.5"></rect><path d="M19.5 12.5h-7a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1v-5" stroke-linecap="round"></path><path d="M11.5 14.5L19 20l4-3" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div></div></div></div></span></span><div class="qc ql s qd bp"><div class="qm s"><p class="ei b ke qn ez">Learn more about how Netflix designs, builds, and operates our systems and engineering organizations</p></div><div class="bo qo bp"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3aeaf49d8a4%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=follow_footer-c3aeaf49d8a4----5bf25df851ef---------------------follow_footer--------------" class="ei b fj fk fz qj gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow">Follow</a></span></div></div></div><div class="nw s"></div><div class="pv pw s im"><span class="s px an py"><div class="s t pz qa"><a href="https://netflixtechblog.com/?source=follow_footer-----5bf25df851ef-----------------------------------" rel="noopener follow"><img alt="Netflix TechBlog" class="ct qb cd" src="https://miro.medium.com/fit/c/160/160/1*ty4NvNrGg4ReETxqU2N3Og.png" width="80" height="80"/></a></div><span class="s"><div class="qc qh n qd"><div class="ak n o fb"><h2 class="ei kr qi ka di eg"><a href="https://netflixtechblog.com/?source=follow_footer-----5bf25df851ef-----------------------------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow">Netflix TechBlog</a></h2><div class="s g"><div class="gn" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;collection=Netflix+TechBlog&amp;collectionId=2615bd06b42e&amp;source=follow_footer-----5bf25df851ef---------------------follow_footer--------------" class="ei b fj fk fz qj gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow"><div class="n nv">Follow</div></a></span></div></div></div></div></span></span><div class="qc qp s qd bp"><div class="qm s"><p class="ei b ke qn ez">Learn about Netflix’s world class engineering efforts, company culture, product developments and more.</p></div><div class="bo qo bp"><div class="gn" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;collection=Netflix+TechBlog&amp;collectionId=2615bd06b42e&amp;source=follow_footer-----5bf25df851ef---------------------follow_footer--------------" class="ei b fj fk fz qj gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow"><div class="n nv">Follow</div></a></span></div></div></div></div></div><div class="bo bp"><div class="my s"><div class="n nv"><div class="qq s"><a href="https://netflixtechblog.medium.com/?source=follow_footer-----5bf25df851ef-----------------------------------" rel="noopener follow"><img alt="Netflix Technology Blog" class="s ff qr qs" src="https://miro.medium.com/fit/c/80/80/1*BJWRqfSMf9Da9vsXG9EBRQ.jpeg" width="40" height="40"/></a></div><div class="qt s"><p class="ei b qu qv qw ez qg">Written by</p><div class="n nv"><h2 class="ei kr ke fk di eg"><a href="https://netflixtechblog.medium.com/?source=follow_footer-----5bf25df851ef-----------------------------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow">Netflix Technology Blog</a></h2><div class="qt n"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fuser%2Fc3aeaf49d8a4%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=follow_footer-c3aeaf49d8a4----5bf25df851ef---------------------follow_footer--------------" class="ei b fy fk fz ga gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow">Follow</a></span><div class="gp s"><div><div><div class="gn" role="tooltip" aria-hidden="false"><div class="s"><span><a href="https://medium.com/m/signin?actionUrl=%2F_%2Fapi%2Fsubscriptions%2Fnewsletters%2F8ddcdec29142&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;newsletterV3=c3aeaf49d8a4&amp;newsletterV3Id=8ddcdec29142&amp;user=Netflix+Technology+Blog&amp;userId=c3aeaf49d8a4&amp;source=follow_footer-----5bf25df851ef---------------------subscribe_user--------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow"><button class="ei b fj fk gv bf gw gx gy gz ha hb hc hd gg gh gi gj gk gl gm cq gn go" aria-label="Subscribe"><svg width="23" height="23" viewBox="0 0 23 23" fill="none" class="gq gr gs"><path stroke-linecap="round" d="M14.58 6.89h3.92M16.39 9V5.08M11.62 7.04H7a1 1 0 0 0-1 1v7.13a1 1 0 0 0 1 1h8.54a1 1 0 0 0 1-1v-3.21"></path><path d="M6 8.44l5.27 3.87 2.81-2.11" stroke-linecap="round"></path></svg></button></a></span></div></div></div></div></div></div></div><div class="qx s"><p class="ei b fj fk ez">Learn more about how Netflix designs, builds, and operates our systems and engineering organizations</p></div></div></div><div class="my s"><div class="n nv"><a href="https://netflixtechblog.com/?source=follow_footer-----5bf25df851ef-----------------------------------" rel="noopener follow"><img alt="Netflix TechBlog" class="ct qs qr" src="https://miro.medium.com/fit/c/80/80/1*ty4NvNrGg4ReETxqU2N3Og.png" width="40" height="40"/></a><div class="qt s"><div class="n nv"><h2 class="ei kr ke fk di eg"><a href="https://netflixtechblog.com/?source=follow_footer-----5bf25df851ef-----------------------------------" class="ft fu ba bb bc bd be bf bg bh gt gu bk fw fx" rel="noopener follow">Netflix TechBlog</a></h2><div class="qt s"><div class="gn" aria-hidden="false" aria-describedby="collectionFollowPopover" aria-labelledby="collectionFollowPopover"><span><a href="https://medium.com/m/signin?actionUrl=https%3A%2F%2Fmedium.com%2F_%2Fsubscribe%2Fcollection%2Fnetflix-techblog%2F5bf25df851ef&amp;operation=register&amp;redirect=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef&amp;collection=Netflix+TechBlog&amp;collectionId=2615bd06b42e&amp;source=follow_footer-----5bf25df851ef---------------------follow_footer--------------" class="ei b fy fk fz ga gb gc gd ge gf bh gg gh gi gj gk gl gm cq gn go" rel="noopener follow"><div class="n nv">Follow</div></a></span></div></div></div><div class="qx s"><p class="ei b fj fk ez">Learn about Netflix’s world class engineering efforts, company culture, product developments and more.</p></div></div></div></div></div></div></div></div></div><div class="s cr z"><div class="n p"><div class="ac ae af ag ah ai aj ak"></div></div></div></div></div></div></div></div></div><script>window.__BUILD_ID__="main-20211129-180338-29750bcda6"</script><script>window.__GRAPHQL_URI__ = "https://netflixtechblog.com/_/graphql"</script><script>window.__PRELOADED_STATE__ = {"algolia":{"queries":{}},"auroraPage":{"isAuroraPageEnabled":false},"bookReader":{"assets":{},"reader":{"currentAsset":null,"currentGFI":null,"settingsPanelIsOpen":false,"settings":{"fontFamily":"CHARTER","fontScale":"M","publisherStyling":false,"textAlignment":"start","theme":"White","lineSpacing":0,"wordSpacing":0,"letterSpacing":0},"internalNavCounter":0,"currentSelection":null}},"cache":{"experimentGroupSet":true,"reason":"This request is not using the cache middleware worker","group":"disabled","tags":["group-edgeCachePosts","post-5bf25df851ef","user-c3aeaf49d8a4","collection-2615bd06b42e"],"serverVariantState":"","middlewareEnabled":false,"cacheStatus":"DYNAMIC","shouldUseCache":false,"vary":[]},"client":{"hydrated":false,"isUs":false,"isNativeMedium":false,"isSafariMobile":false,"isSafari":false,"routingEntity":{"type":"COLLECTION","id":"2615bd06b42e","explicit":true},"viewerIsBot":false},"debug":{"requestId":"69776733-9029-4106-a5c2-0c051fd0b4c7","hybridDevServices":[],"showBookReaderDebugger":false,"originalSpanCarrier":{"ot-tracer-spanid":"1c163a1a674ab02c","ot-tracer-traceid":"36b267458a15d547","ot-tracer-sampled":"true"}},"multiVote":{"clapsPerPost":{}},"navigation":{"branch":{"show":null,"hasRendered":null,"blockedByCTA":false},"hideGoogleOneTap":false,"hasRenderedGoogleOneTap":null,"hasRenderedAlternateUserBanner":null,"currentLocation":"https:\u002F\u002Fnetflixtechblog.com\u002Fapplication-data-caching-using-ssds-5bf25df851ef","host":"netflixtechblog.com","hostname":"netflixtechblog.com","referrer":"https:\u002F\u002Fmedium.com\u002Fm\u002Fglobal-identity?redirectUrl=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef","hasSetReferrer":false,"susiModal":{"step":null,"operation":"register"},"postRead":false},"tracing":{},"userOnboarding":{"showFirstBookPurchaseTooltip":false},"config":{"nodeEnv":"production","version":"main-20211129-180338-29750bcda6","isTaggedVersion":false,"isMediumDotApp":false,"isMediumDotAppVariant":false,"target":"production","productName":"Medium","publicUrl":"https:\u002F\u002Fcdn-client.medium.com\u002Flite","authDomain":"medium.com","authGoogleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","favicon":"production","glyphUrl":"https:\u002F\u002Fglyph.medium.com","branchKey":"key_live_ofxXr2qTrrU9NqURK8ZwEhknBxiI6KBm","lightStep":{"name":"lite-web","host":"lightstep.medium.systems","token":"ce5be895bef60919541332990ac9fef2","appVersion":"main-20211129-180338-29750bcda6","disableClientReporting":true},"algolia":{"appId":"MQ57UUUQZ2","apiKeySearch":"394474ced050e3911ae2249ecc774921","indexPrefix":"medium_","host":"-dsn.algolia.net"},"recaptchaKey":"6Lfc37IUAAAAAKGGtC6rLS13R1Hrw_BqADfS1LRk","recaptcha3Key":"6Lf8R9wUAAAAABMI_85Wb8melS7Zj6ziuf99Yot5","datadog":{"applicationId":"6702d87d-a7e0-42fe-bbcb-95b469547ea0","clientToken":"pub853ea8d17ad6821d9f8f11861d23dfed","rumToken":"pubf9cc52896502b9413b68ba36fc0c7162","context":{"deployment":{"target":"production","tag":"main-20211129-180338-29750bcda6","commit":"29750bcda6f9ecf11389378788de9cbc6ee71911"}},"datacenter":"us"},"googleAnalyticsCode":"UA-24232453-2","googlePay":{"apiVersion":"2","apiVersionMinor":"0","merchantId":"BCR2DN6TV7EMTGBM","merchantName":"Medium","instanceMerchantId":"13685562959212738550"},"applePay":{"version":3},"signInWallCustomDomainCollectionIds":["3a8144eabfe3","336d898217ee","61061eb0c96b","138adf9c44c","819cc2aaeee0"],"mediumOwnedAndOperatedCollectionIds":["8a9336e5bb4","b7e45b22fec3","193b68bd4fba","8d6b8a439e32","54c98c43354d","3f6ecf56618","d944778ce714","92d2092dc598","ae2a65f35510","1285ba81cada","544c7006046e","fc8964313712","40187e704f1c","88d9857e584e","7b6769f2748b","bcc38c8f6edf","cef6983b292","cb8577c9149e","444d13b52878","713d7dbc99b0","ef8e90590e66","191186aaafa0","55760f21cdc5","9dc80918cc93","bdc4052bbdba","8ccfed20cbb2"],"tierOneDomains":["medium.com","thebolditalic.com","arcdigital.media","towardsdatascience.com","uxdesign.cc","codeburst.io","psiloveyou.xyz","writingcooperative.com","entrepreneurshandbook.co","prototypr.io","betterhumans.coach.me","theascent.pub"],"topicsToFollow":["d61cf867d93f","8a146bc21b28","1eca0103fff3","4d562ee63426","aef1078a3ef5","e15e46793f8d","6158eb913466","55f1c20aba7a","3d18b94f6858","4861fee224fd","63c6f1f93ee","1d98b3a9a871","decb52b64abf","ae5d4995e225","830cded25262"],"topicToTagMappings":{"accessibility":"accessibility","addiction":"addiction","android-development":"android-development","art":"art","artificial-intelligence":"artificial-intelligence","astrology":"astrology","basic-income":"basic-income","beauty":"beauty","biotech":"biotech","blockchain":"blockchain","books":"books","business":"business","cannabis":"cannabis","cities":"cities","climate-change":"climate-change","comics":"comics","coronavirus":"coronavirus","creativity":"creativity","cryptocurrency":"cryptocurrency","culture":"culture","cybersecurity":"cybersecurity","data-science":"data-science","design":"design","digital-life":"digital-life","disability":"disability","economy":"economy","education":"education","equality":"equality","family":"family","feminism":"feminism","fiction":"fiction","film":"film","fitness":"fitness","food":"food","freelancing":"freelancing","future":"future","gadgets":"gadgets","gaming":"gaming","gun-control":"gun-control","health":"health","history":"history","humor":"humor","immigration":"immigration","ios-development":"ios-development","javascript":"javascript","justice":"justice","language":"language","leadership":"leadership","lgbtqia":"lgbtqia","lifestyle":"lifestyle","machine-learning":"machine-learning","makers":"makers","marketing":"marketing","math":"math","media":"media","mental-health":"mental-health","mindfulness":"mindfulness","money":"money","music":"music","neuroscience":"neuroscience","nonfiction":"nonfiction","outdoors":"outdoors","parenting":"parenting","pets":"pets","philosophy":"philosophy","photography":"photography","podcasts":"podcast","poetry":"poetry","politics":"politics","privacy":"privacy","product-management":"product-management","productivity":"productivity","programming":"programming","psychedelics":"psychedelics","psychology":"psychology","race":"race","relationships":"relationships","religion":"religion","remote-work":"remote-work","san-francisco":"san-francisco","science":"science","self":"self","self-driving-cars":"self-driving-cars","sexuality":"sexuality","social-media":"social-media","society":"society","software-engineering":"software-engineering","space":"space","spirituality":"spirituality","sports":"sports","startups":"startup","style":"style","technology":"technology","transportation":"transportation","travel":"travel","true-crime":"true-crime","tv":"tv","ux":"ux","venture-capital":"venture-capital","visual-design":"visual-design","work":"work","world":"world","writing":"writing"},"defaultImages":{"avatar":{"imageId":"1*dmbNkD5D-u45r44go_cf0g.png","height":150,"width":150},"orgLogo":{"imageId":"1*OMF3fSqH8t4xBJ9-6oZDZw.png","height":106,"width":545},"postLogo":{"imageId":"1*kFrc4tBFM_tCis-2Ic87WA.png","height":810,"width":1440},"postPreviewImage":{"imageId":"1*hn4v1tCaJy7cWMyb0bpNpQ.png","height":386,"width":579}},"collectionStructuredData":{"8d6b8a439e32":{"name":"Elemental","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F980\u002F1*9ygdqoKprhwuTVKUM0DLPA@2x.png","width":980,"height":159}}},"3f6ecf56618":{"name":"Forge","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F596\u002F1*uULpIlImcO5TDuBZ6lm7Lg@2x.png","width":596,"height":183}}},"ae2a65f35510":{"name":"GEN","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F264\u002F1*RdVZMdvfV3YiZTw6mX7yWA.png","width":264,"height":140}}},"88d9857e584e":{"name":"LEVEL","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*JqYMhNX6KNNb2UlqGqO2WQ.png","width":540,"height":108}}},"7b6769f2748b":{"name":"Marker","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fcdn-images-1.medium.com\u002Fmax\u002F383\u002F1*haCUs0wF6TgOOvfoY-jEoQ@2x.png","width":383,"height":92}}},"444d13b52878":{"name":"OneZero","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*cw32fIqCbRWzwJaoQw6BUg.png","width":540,"height":123}}},"8ccfed20cbb2":{"name":"Zora","data":{"@type":"NewsMediaOrganization","ethicsPolicy":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Farticles\u002F360043290473","logo":{"@type":"ImageObject","url":"https:\u002F\u002Fmiro.medium.com\u002Fmax\u002F540\u002F1*tZUQqRcCCZDXjjiZ4bDvgQ.png","width":540,"height":106}}}},"embeddedPostIds":{"coronavirus":"cd3010f9d81f"},"sharedCdcMessaging":{"COVID_APPLICABLE_TAG_SLUGS":[],"COVID_APPLICABLE_TOPIC_NAMES":[],"COVID_APPLICABLE_TOPIC_NAMES_FOR_TOPIC_PAGE":[],"COVID_MESSAGES":{"tierA":{"text":"For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":66,"end":73,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"tierB":{"text":"Anyone can publish on Medium per our Policies, but we don’t fact-check every story. For more info about the coronavirus, see cdc.gov.","markups":[{"start":37,"end":45,"href":"https:\u002F\u002Fhelp.medium.com\u002Fhc\u002Fen-us\u002Fcategories\u002F201931128-Policies-Safety"},{"start":125,"end":132,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"paywall":{"text":"This article has been made free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":56,"end":70,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":138,"end":145,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]},"unbound":{"text":"This article is free for everyone, thanks to Medium Members. For more information on the novel coronavirus and Covid-19, visit cdc.gov.","markups":[{"start":45,"end":59,"href":"https:\u002F\u002Fmedium.com\u002Fmembership"},{"start":127,"end":134,"href":"https:\u002F\u002Fwww.cdc.gov\u002Fcoronavirus\u002F2019-nCoV"}]}},"COVID_BANNER_POST_ID_OVERRIDE_WHITELIST":["3b31a67bff4a"]},"sharedVoteMessaging":{"TAGS":["politics","election-2020","government","us-politics","election","2020-presidential-race","trump","donald-trump","democrats","republicans","congress","republican-party","democratic-party","biden","joe-biden","maga"],"TOPICS":["politics","election"],"MESSAGE":{"text":"Find out more about the U.S. election results here.","markups":[{"start":46,"end":50,"href":"https:\u002F\u002Fcookpolitical.com\u002F2020-national-popular-vote-tracker"}]},"EXCLUDE_POSTS":["397ef29e3ca5"]},"embedPostRules":[],"recircOptions":{"v1":{"limit":3},"v2":{"limit":8}},"braintreeClientKey":"production_zjkj96jm_m56f8fqpf7ngnrd4","braintree":{"enabled":true,"merchantId":"m56f8fqpf7ngnrd4","publicKey":"cwr8xtycwgjryv82","braintreeEnvironment":"production","dashboardUrl":"https:\u002F\u002Fwww.braintreegateway.com\u002Fmerchants","gracePeriodDurationInDays":14,"mediumMembershipPlanId":{"monthly":"ce105f8c57a3","monthlyWithTrial":"d5ee3dbe3db8","yearly":"a40ad4a43185","yearlyStaff":"d74fb811198a","yearlyWithTrial":"b3bc7350e5c7"},"braintreeDiscountId":{"oneMonthFree":"MONTHS_FREE_01","threeMonthsFree":"MONTHS_FREE_03","sixMonthsFree":"MONTHS_FREE_06"}},"paypalClientId":"AXj1G4fotC2GE8KzWX9mSxCH1wmPE3nJglf4Z2ig_amnhvlMVX87otaq58niAg9iuLktVNF_1WCMnN7v","paypal":{"host":"https:\u002F\u002Fapi.paypal.com:443","clientMode":"production","serverMode":"live","webhookId":"4G466076A0294510S","monthlyPlan":{"planId":"P-9WR0658853113943TMU5FDQA","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlan":{"planId":"P-7N8963881P8875835MU5JOPQ","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oneYearGift":{"name":"Medium Membership (1 Year, Digital Gift Code)","description":"Unlimited access to the best and brightest stories on Medium. Gift codes can be redeemed at medium.com\u002Fredeem.","price":"50.00","currency":"USD","sku":"membership-gift-1-yr"},"oldMonthlyPlan":{"planId":"P-96U02458LM656772MJZUVH2Y","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlan":{"planId":"P-59P80963JF186412JJZU3SMI","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"monthlyPlanWithTrial":{"planId":"P-66C21969LR178604GJPVKUKY","name":"Medium Membership (Monthly) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"yearlyPlanWithTrial":{"planId":"P-6XW32684EX226940VKCT2MFA","name":"Medium Membership (Annual) with setup fee","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"oldMonthlyPlanNoSetupFee":{"planId":"P-4N046520HR188054PCJC7LJI","name":"Medium Membership (Monthly)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed monthly."},"oldYearlyPlanNoSetupFee":{"planId":"P-7A4913502Y5181304CJEJMXQ","name":"Medium Membership (Annual)","description":"Unlimited access to the best and brightest stories on Medium. Membership billed annually."},"sdkUrl":"https:\u002F\u002Fwww.paypal.com\u002Fsdk\u002Fjs"},"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl"},"session":{"xsrf":""}}</script><script>window.__APOLLO_STATE__ = {"ROOT_QUERY":{"__typename":"Query","viewer":null,"variantFlags":[{"__typename":"VariantFlag","name":"allow_access","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_signup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"allow_test_auth","valueType":{"__typename":"VariantFlagString","value":"disallow"}},{"__typename":"VariantFlag","name":"android_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"assign_default_topic_to_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"author_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"author_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"available_annual_plan","valueType":{"__typename":"VariantFlagString","value":"2c754bcc2995"}},{"__typename":"VariantFlag","name":"available_monthly_plan","valueType":{"__typename":"VariantFlagString","value":"60e220181034"}},{"__typename":"VariantFlag","name":"branch_seo_metadata","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"browsable_stream_config_bucket","valueType":{"__typename":"VariantFlagString","value":"curated-topics"}},{"__typename":"VariantFlag","name":"coronavirus_topic_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"covid_19_cdc_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"default_seo_post_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_age_cutoff_fdh","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_android_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_ios_subscription_activity_carousel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_mobile_featured_chunk","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_partner_program_enrollment","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"disable_post_recommended_from_friends_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_android_local_currency","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_annual_renewal_reminder_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_app_flirty_thirty","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_apple_webhook_renewal_failure","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_about_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_general_admission","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_profile_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_pub_follower_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_sticky_nav","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_aurora_tag_page_routing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_autotier","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_author_cards_byline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_auto_follow_on_subscribe","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automated_mission_control_triggers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_automod","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_apple_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_client","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_google_pay","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_integration","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_paypal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_trial_membership","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_braintree_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_io","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branch_text_me_the_app","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_branding_fonts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cleansweep_double_writes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_confirm_sign_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_payscreen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_creator_welcome_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_cta_meter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_custom_domain_v2_settings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_feature_logging","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_generation_pipeline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_digest_tagline","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_drm_provider","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_drm_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_earn_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_edit_alt_text","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_email_sign_in_captcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_embedding_based_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_end_of_post_cleanup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_evhead_com_to_ev_medium_com_redirect","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_expanded_feature_chunk_pool","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_by_resend_rules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_filter_expire_processor","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fix_collection_follow_counts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_fix_follow_counts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_footer_app_buttons","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_global_susi_modal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_one_tap","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_cancelled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_expired","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_in_grace_period","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_on_hold","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_google_webhook_subscription_renewed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_group_gifting","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_highlander_member_digest","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hightower_user_bonus","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hot_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hot_topics_v2","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_hybrid_fdh_non_popular_sources","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_iceland_forced_ios","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_import","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_in_context_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_inline_expansion","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_iceland_3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_responses_3","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ios_seamless","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_json_logs_trained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_kbfd_rex_app_highlights","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_legacy_feed_in_iceland","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_li_homepage_write_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_continue_this_thread","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_gift_redemption","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_homepage_feed","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_notifications","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_pub_homepage_for_selected_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_response_markup","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_server_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_stories","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_topics_edge_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lite_unread_notification_count_mutation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_login_code_flow","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_marketing_emails","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_media_resource_try_catch","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_medium2_kbfd","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_membership_remove_section_a","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_miro_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mission_control","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_ml_rank_rex_anno","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mobile_web_editor_redirect_route","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_mute","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_negative_signal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_collaborative_filtering_data","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_member_welcome_email_enhancement","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_three_dot_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_new_writer_editor_enhancement","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_newsletter_lo_flow_custom_domains","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_parsely","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_partner_program_unenrollment_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_patronus_on_kubernetes","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_paywall_conversions_for_referred_members","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_persistent_recirc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_popularity_feature","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_nav_stickiness_removal","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_page_write_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_post_settings_screen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_pp_dashboard_referred_earnings","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_primary_topic_for_mobile","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_design_reminder","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_profile_page_seo_titles","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_publish_to_email_for_publication_posts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rank_v2_usage","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_reading_history_set","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_recirc_reboot_lo","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_referred_memberships","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_reply_to_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_all","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_edit_and_delete","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_responses_moderation","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_follow_feed_cache","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rex_reading_history","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rito_upstream_deadlines","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_rtr_channel","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_save_to_medium","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_seamless_social_sharing","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_signup_friction","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_spam_title_filter","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_starspace_ranker_starspace","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_subscriber_stats_referred","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tag_recs","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tick_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tipalti_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_top_posts_in_fdh_hybrid","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trending_posts_diversification","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_tribute_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_triton_predictions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_trumpland_landing_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_twitter_auth_suggestions","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_follower_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_new_member_email","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_updated_new_user_onboarding","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"enable_user_settings_subdomain","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"glyph_font_set","valueType":{"__typename":"VariantFlagString","value":"m2-unbound"}},{"__typename":"VariantFlag","name":"google_sign_in_android","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_generic_home_modules","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_home_post_menu","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_enable_lock_responses","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_iceland_nux","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_in_app_free_trial","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_pub_follow_email_opt_in","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"ios_social_share_sheet","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"is_not_medium_subscriber","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_fastrak","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"kill_stripe_express","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_post_referrers","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"limit_user_follows","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"make_nav_sticky","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"new_transition_page","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"post_edge_cache_enabled","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"post_edge_cache_enabled_moc","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"posts_under_quota_fair_distribution","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"provider_for_credit_card_form","valueType":{"__typename":"VariantFlagString","value":"BRAINTREE"}},{"__typename":"VariantFlag","name":"pub_sidebar","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"reader_fair_distribution_non_qp","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"recirc_generator_filter_seen","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"redefine_average_post_reading_time","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"remove_post_post_similarity","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"retrained_ranker","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"rex_provider_candidate_amounts","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"rex_recirc_reboot","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"show_pp_awareness_banner","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"show_writing_101_cta","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"sign_up_with_email_button","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"signin_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"signup_services","valueType":{"__typename":"VariantFlagString","value":"twitter,facebook,google,email,google-fastidv,google-one-tap,apple"}},{"__typename":"VariantFlag","name":"single_partition_key","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"skip_sign_in_recaptcha","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"suppress_apple_missing_expires_date_alert","valueType":{"__typename":"VariantFlagBoolean","value":true}},{"__typename":"VariantFlag","name":"use_new_admin_topic_backend","valueType":{"__typename":"VariantFlagBoolean","value":true}}],"meterPost({\"postId\":\"5bf25df851ef\",\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fm\u002Fglobal-identity?redirectUrl=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef\",\"sk\":null,\"source\":null}})":{"__ref":"MeteringInfo:{}"},"postResult({\"id\":\"5bf25df851ef\"})":{"__ref":"Post:5bf25df851ef"}},"MeteringInfo:{}":{"__typename":"MeteringInfo","postIds":[],"maxUnlockCount":3,"unlocksRemaining":0},"User:c3aeaf49d8a4":{"id":"c3aeaf49d8a4","__typename":"User","name":"Netflix Technology Blog","username":"netflixtechblog","newsletterV3":{"__ref":"NewsletterV3:8ddcdec29142"},"customStyleSheet":null,"isSuspended":false,"bio":"Learn more about how Netflix designs, builds, and operates our systems and engineering organizations","imageId":"1*BJWRqfSMf9Da9vsXG9EBRQ.jpeg","hasCompletedProfile":false,"isAuroraVisible":true,"mediumMemberAt":0,"socialStats":{"__typename":"SocialStats","followerCount":215315,"followingCount":7,"collectionFollowingCount":1},"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","domain":"netflixtechblog.medium.com","status":"ACTIVE","isSubdomain":true}},"hasSubdomain":true,"bookAuthor":null,"isPartnerProgramEnrolled":false,"viewerEdge":{"__ref":"UserViewerEdge:userId:c3aeaf49d8a4-viewerId:lo_60837f82cf07"},"viewerIsUser":false,"homepagePostsConnection({\"paging\":{\"limit\":1}})":{"__typename":"PostConnection","posts":[{"__ref":"Post:adcf7a4a78c3"}]},"postSubscribeMembershipUpsellShownAt":0,"allowNotes":true,"replyToEmailBannerShownCount":3,"twitterScreenName":"","followedCollections":2,"referredMembershipCustomHeadline":"","referredMembershipCustomBody":"","atsQualifiedAt":1612205378117},"ImageMetadata:":{"id":"","__typename":"ImageMetadata"},"CollectionViewerEdge:collectionId:2615bd06b42e-viewerId:lo_60837f82cf07":{"id":"collectionId:2615bd06b42e-viewerId:lo_60837f82cf07","__typename":"CollectionViewerEdge","isEditor":false},"ImageMetadata:1*XMfuQcaI93EqrkVcAyVsTw.png":{"id":"1*XMfuQcaI93EqrkVcAyVsTw.png","__typename":"ImageMetadata","originalWidth":2802,"originalHeight":684},"ImageMetadata:1*ty4NvNrGg4ReETxqU2N3Og.png":{"id":"1*ty4NvNrGg4ReETxqU2N3Og.png","__typename":"ImageMetadata"},"Collection:2615bd06b42e":{"id":"2615bd06b42e","__typename":"Collection","domain":"netflixtechblog.com","googleAnalyticsId":"UA-156554426-1","slug":"netflix-techblog","colorBehavior":"ACCENT_COLOR_AND_FILL_BACKGROUND","isAuroraVisible":false,"favicon":{"__ref":"ImageMetadata:"},"name":"Netflix TechBlog","colorPalette":{"__typename":"ColorPalette","highlightSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FFF6F1F1","point":0},{"__typename":"ColorPoint","color":"#FFF4EFEF","point":0.1},{"__typename":"ColorPoint","color":"#FFF2EDED","point":0.2},{"__typename":"ColorPoint","color":"#FFF1EBEC","point":0.3},{"__typename":"ColorPoint","color":"#FFEFE9EA","point":0.4},{"__typename":"ColorPoint","color":"#FFEDE8E8","point":0.5},{"__typename":"ColorPoint","color":"#FFECE6E6","point":0.6},{"__typename":"ColorPoint","color":"#FFEAE4E4","point":0.7},{"__typename":"ColorPoint","color":"#FFE8E2E2","point":0.8},{"__typename":"ColorPoint","color":"#FFE6E0E0","point":0.9},{"__typename":"ColorPoint","color":"#FFE5DEDE","point":1}]},"defaultBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FFFFFFFF","colorPoints":[{"__typename":"ColorPoint","color":"#FF898384","point":0},{"__typename":"ColorPoint","color":"#FF7F797A","point":0.1},{"__typename":"ColorPoint","color":"#FF767071","point":0.2},{"__typename":"ColorPoint","color":"#FF6C6768","point":0.3},{"__typename":"ColorPoint","color":"#FF615D5E","point":0.4},{"__typename":"ColorPoint","color":"#FF575354","point":0.5},{"__typename":"ColorPoint","color":"#FF4C4949","point":0.6},{"__typename":"ColorPoint","color":"#FF413E3E","point":0.7},{"__typename":"ColorPoint","color":"#FF353333","point":0.8},{"__typename":"ColorPoint","color":"#FF282727","point":0.9},{"__typename":"ColorPoint","color":"#FF1B1A1A","point":1}]},"tintBackgroundSpectrum":{"__typename":"ColorSpectrum","backgroundColor":"#FF221E1F","colorPoints":[{"__typename":"ColorPoint","color":"#FF221E1F","point":0},{"__typename":"ColorPoint","color":"#FF403B3C","point":0.1},{"__typename":"ColorPoint","color":"#FF5A5556","point":0.2},{"__typename":"ColorPoint","color":"#FF726D6E","point":0.3},{"__typename":"ColorPoint","color":"#FF898485","point":0.4},{"__typename":"ColorPoint","color":"#FF9F9A9A","point":0.5},{"__typename":"ColorPoint","color":"#FFB4AFAF","point":0.6},{"__typename":"ColorPoint","color":"#FFC8C3C3","point":0.7},{"__typename":"ColorPoint","color":"#FFDBD7D7","point":0.8},{"__typename":"ColorPoint","color":"#FFEEEAEA","point":0.9},{"__typename":"ColorPoint","color":"#FFFFFDFD","point":1}]}},"customStyleSheet":null,"tagline":"Learn about Netflix’s world class engineering efforts…","isAuroraEligible":false,"viewerEdge":{"__ref":"CollectionViewerEdge:collectionId:2615bd06b42e-viewerId:lo_60837f82cf07"},"logo":{"__ref":"ImageMetadata:1*XMfuQcaI93EqrkVcAyVsTw.png"},"navItems":[],"creator":{"__ref":"User:c3aeaf49d8a4"},"subscriberCount":122908,"newsletterV3":null,"avatar":{"__ref":"ImageMetadata:1*ty4NvNrGg4ReETxqU2N3Og.png"},"canToggleEmail":false,"description":"Learn about Netflix’s world class engineering efforts, company culture, product developments and more.","ampEnabled":false,"twitterUsername":null,"facebookPageId":null,"customDomainState":{"__typename":"CustomDomainState","live":{"__typename":"CustomDomain","status":"ACTIVE","isSubdomain":false}},"ptsQualifiedAt":1616092817565},"UserViewerEdge:userId:c3aeaf49d8a4-viewerId:lo_60837f82cf07":{"id":"userId:c3aeaf49d8a4-viewerId:lo_60837f82cf07","__typename":"UserViewerEdge","isFollowing":false,"isUser":false},"NewsletterV3:8ddcdec29142":{"id":"8ddcdec29142","__typename":"NewsletterV3","type":"NEWSLETTER_TYPE_AUTHOR","slug":"c3aeaf49d8a4","name":"c3aeaf49d8a4","collection":null,"user":{"__ref":"User:c3aeaf49d8a4"},"description":"","promoHeadline":"","promoBody":"","replyToEmail":"","showPromo":false,"subscribersCount":702},"Post:adcf7a4a78c3":{"id":"adcf7a4a78c3","__typename":"Post"},"Paragraph:44aa93bf21d8_0":{"id":"44aa93bf21d8_0","__typename":"Paragraph","name":"52c3","text":"Application data caching using SSDs","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_1":{"id":"44aa93bf21d8_1","__typename":"Paragraph","name":"3e58","text":"The Moneta project: Next generation EVCache for better cost optimization","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_2":{"id":"44aa93bf21d8_2","__typename":"Paragraph","name":"f3c6","text":"","type":"IMG","href":null,"layout":"OUTSET_LEFT","metadata":{"__ref":"ImageMetadata:0*f7vr0Eqf96Y4znfR."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_3":{"id":"44aa93bf21d8_3","__typename":"Paragraph","name":"9d42","text":"With the global expansion of Netflix earlier this year came the global expansion of data. After the Active-Active project and now with the N+1 architecture, the latest personalization data needs to be everywhere at all times to serve any member from any region. Caching plays a critical role in the persistence story for member personalization as detailed in this earlier blog post:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":9,"end":25,"type":"A","href":"https:\u002F\u002Fmedia.netflix.com\u002Fen\u002Fpress-releases\u002Fnetflix-is-now-available-around-the-world","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":126,"end":155,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fglobal-cloud-active-active-and-beyond-a0fdfa2c3a45","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":364,"end":381,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fannouncing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_4":{"id":"44aa93bf21d8_4","__typename":"Paragraph","name":"8dcd","text":"Announcing EVCache\nDistributed in-memory datastore for Cloudmedium.com","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fannouncing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7","thumbnailImageId":"1*TuEM2hjwnsc5cQuTae-YdA.png"},"markups":[{"__typename":"Markup","start":0,"end":70,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fannouncing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":18,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":19,"end":60,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_5":{"id":"44aa93bf21d8_5","__typename":"Paragraph","name":"2e6e","text":"There are two primary components to the Netflix architecture. The first is the control plane that runs on the AWS cloud for generic, scalable computing for member signup, browsing and playback experiences. The second is the data plane, called Open Connect, which is our global video delivery network. This blog is about how we are bringing the power and economy of SSDs to EVCache — the primary caching system in use at Netflix for applications running in the control plane on AWS.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_6":{"id":"44aa93bf21d8_6","__typename":"Paragraph","name":"e906","text":"One of the main use cases of EVCache is to act as globally replicated storage for personalized data for each of our more than 81 million members. EVCache plays a variety of roles inside Netflix besides holding this data, including acting as a standard working-set cache for things like subscriber information. But its largest role is for personalization. Serving anyone from anywhere means that we must hold all of the personalized data for every member in each of the three regions that we operate in. This enables a consistent experience in all AWS regions and allows us to easily shift traffic during regional outages or during regular traffic shaping exercises to balance load. We have spoken at length about the replication system used to make this happen in a previous blog post:","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":766,"end":784,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fcaching-for-a-global-netflix-7bcc457012f1","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_7":{"id":"44aa93bf21d8_7","__typename":"Paragraph","name":"7bec","text":"Caching for a Global Netflix\n#CachesEverywheremedium.com","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fcaching-for-a-global-netflix-7bcc457012f1","thumbnailImageId":"0*SZdFmc40mfFsIOb-."},"markups":[{"__typename":"Markup","start":0,"end":56,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fcaching-for-a-global-netflix-7bcc457012f1","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":28,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":29,"end":46,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_8":{"id":"44aa93bf21d8_8","__typename":"Paragraph","name":"ba87","text":"During steady state, our regions tend to see the same members over and over again. Switching between regions is not a very common phenomenon for our members. Even though their data is in RAM in all three regions, only one region is being used regularly per member. Extrapolating from this, we can see that each region has a different working set for these types of caches. A small subset is hot data and the rest is cold.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_9":{"id":"44aa93bf21d8_9","__typename":"Paragraph","name":"cad4","text":"Besides the hot\u002Fcold data separation, the cost of holding all of this data in memory is growing along with our member base. As well, different A\u002FB tests and other internal changes can add even more data. For our working set of members, we have billions of keys already and that number will only grow. We have the challenge of continuing to support Netflix use cases while balancing cost. To meet this challenge, we are introducing a multi-level caching scheme using both RAM and SSDs.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_10":{"id":"44aa93bf21d8_10","__typename":"Paragraph","name":"7812","text":"The EVCache project to take advantage of this global request distribution and cost optimization is called Moneta, named for the Latin Goddess of Memory, and Juno Moneta, the Protectress of Funds for Juno.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":106,"end":112,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_11":{"id":"44aa93bf21d8_11","__typename":"Paragraph","name":"a243","text":"Current Architecture","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_12":{"id":"44aa93bf21d8_12","__typename":"Paragraph","name":"13d7","text":"We will talk about the current architecture of the EVCache servers and then talk about how this is evolving to enable SSD support.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_13":{"id":"44aa93bf21d8_13","__typename":"Paragraph","name":"1d37","text":"The picture below shows a typical deployment for EVCache and the relationship between a single client instance and the servers. A client of EVCache will connect to several clusters of EVCache servers. In a region we have multiple copies of the whole dataset, separated by AWS Availability Zone. The dashed boxes delineate the in-region replicas, each of which has a full copy of the data and acts as a unit. We manage these copies as separate AWS Auto Scaling groups. Some caches have 2 copies per region, and some have many. This high level architecture is still valid for us for the foreseeable future and is not changing. Each client connects to all of the servers in all zones in their own region. Writes are sent to all copies and reads prefer topologically close servers for read requests. To see more detail about the EVCache architecture, see our original announcement blog post.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":851,"end":886,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fannouncing-evcache-distributed-in-memory-datastore-for-cloud-c26a698c27f7","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_14":{"id":"44aa93bf21d8_14","__typename":"Paragraph","name":"4283","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*SmIulc1_uF9uNuDr."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_15":{"id":"44aa93bf21d8_15","__typename":"Paragraph","name":"2796","text":"The server as it has evolved over the past few years is a collection of a few processes, with two main ones: stock Memcached, a popular and battle tested in-memory key-value store, and Prana, the Netflix sidecar process. Prana is the server’s hook into the rest of Netflix’s ecosystem, which is still primarily Java-based. Clients connect directly to the Memcached process running on each server. The servers are independent and do not communicate with one another.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_16":{"id":"44aa93bf21d8_16","__typename":"Paragraph","name":"429e","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*OPxLARy3i5OdqeQ3."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_17":{"id":"44aa93bf21d8_17","__typename":"Paragraph","name":"b862","text":"Optimization","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_18":{"id":"44aa93bf21d8_18","__typename":"Paragraph","name":"271d","text":"As one of the largest subsystems of the Netflix cloud, we’re in a unique position to apply optimizations across a significant percentage of our cloud footprint. The cost of holding all of the cached data in memory is growing along with our member base. The output of a single stage of a single day’s personalization batch process can load more than 5 terabytes of data into its dedicated EVCache cluster. The cost of storing this data is multiplied by the number of global copies of data that we store. As mentioned earlier, different A\u002FB tests and other internal changes can add even more data. For just our working set of members, we have many billions of keys today, and that number will only grow.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_19":{"id":"44aa93bf21d8_19","__typename":"Paragraph","name":"9a88","text":"To take advantage of the different data access patterns that we observe in different regions, we built a system to store the hot data in RAM and cold data on disk. This is a classic two-level caching architecture (where L1 is RAM and L2 is disk), however engineers within Netflix have come to rely on the consistent, low-latency performance of EVCache. Our requirements were to be as low latency as possible, use a more balanced amount of (expensive) RAM, and take advantage of lower-cost SSD storage while still delivering the low latency our clients expect.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_20":{"id":"44aa93bf21d8_20","__typename":"Paragraph","name":"06e8","text":"In-memory EVCache clusters run on the AWS r3 family of instance types, which are optimized for large memory footprints. By moving to the i2 family of instances, we gain access to 10 times the amount of fast SSD storage as we had on the r3 family (80 → 800GB from r3.xlarge to i2.xlarge) with the equivalent RAM and CPU. We also downgraded instance sizes to a smaller amount of memory. Combining these two, we have a potential of substantial cost optimization across our many thousands of servers.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_21":{"id":"44aa93bf21d8_21","__typename":"Paragraph","name":"800d","text":"Moneta architecture","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_22":{"id":"44aa93bf21d8_22","__typename":"Paragraph","name":"e518","text":"The Moneta project introduces two new processes to the EVCache server: Rend and Mnemonic. Rend is a high-performance proxy written in Go with Netflix use cases as the primary driver for development. Mnemonic is a disk-backed key-value store based on RocksDB. Mnemonic reuses the Rend server components that handle protocol parsing (for speaking the Memcached protocols), connection management, and parallel locking (for correctness). All three servers actually speak the Memcached text and binary protocols, so client interactions between any of the three have the same semantics. We use this to our advantage when debugging or doing consistency checking.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":250,"end":257,"type":"A","href":"http:\u002F\u002Frocksdb.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_23":{"id":"44aa93bf21d8_23","__typename":"Paragraph","name":"465a","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*yn0qBWsJvbyH7fiH."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_24":{"id":"44aa93bf21d8_24","__typename":"Paragraph","name":"44af","text":"Where clients previously connected to Memcached directly, they now connect to Rend. From there, Rend will take care of the L1\u002FL2 interactions between Memcached and Mnemonic. Even on servers that do not use Mnemonic, Rend still provides valuable server-side metrics that we could not previously get from Memcached, such as server-side request latencies. The latency introduced by Rend, in conjunction with Memcached only, averages only a few dozen microseconds.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_25":{"id":"44aa93bf21d8_25","__typename":"Paragraph","name":"14cd","text":"As a part of this redesign, we could have integrated the three processes together. We chose to have three independent processes running on each server to maintain separation of concerns. This setup affords better data durability on the server. If Rend crashes, the data is still intact in Memcached and Mnemonic. The server is able to serve customer requests once they reconnect to a resurrected Rend process. If Memcached crashes, we lose the working set but the data in L2 (Mnemonic) is still available. Once the data is requested again, it will be back in the hot set and served as it was before. If Mnemonic crashes, it wouldn’t lose all the data, but only possibly a small set that was written very recently. Even if it did lose the data, at least we have the hot data still in RAM and available for those users who are actually using the service. This resiliency to crashes is on top of the resiliency measures in the EVCache client.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_26":{"id":"44aa93bf21d8_26","__typename":"Paragraph","name":"6fe8","text":"Rend","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_27":{"id":"44aa93bf21d8_27","__typename":"Paragraph","name":"bffc","text":"Rend, as mentioned above, acts as a proxy in front of the two other processes on the server that actually store the data. It is a high-performance server that speaks the binary and text Memcached protocols. It is written in Go and relies heavily on goroutines and other language primitives to handle concurrency. The project is fully open source and available on Github. The decision to use Go was deliberate, because we needed something that had lower latency than Java (where garbage collection pauses are an issue) and is more productive for developers than C, while also handling tens of thousands of client connections. Go fits this space well.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":350,"end":369,"type":"A","href":"https:\u002F\u002Fgithub.com\u002Fnetflix\u002Frend","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_28":{"id":"44aa93bf21d8_28","__typename":"Paragraph","name":"7afc","text":"Rend has the responsibility of managing the relationship between the L1 and L2 caches on the box. It has a couple of different policies internally that apply to different use cases. It also has a feature to cut data into fixed size chunks as the data is being inserted into Memcached to avoid pathological behavior of the memory allocation scheme inside Memcached. This server-side chunking is replacing our client-side version, and is already showing promise. So far, it’s twice as fast for reads and up to 30 times faster for writes. Fortunately, Memcached, as of 1.4.25, has become much more resilient to the bad client behavior that caused problems before. We may drop the chunking feature in the future as we can depend on L2 to have the data if it is evicted from L1.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_29":{"id":"44aa93bf21d8_29","__typename":"Paragraph","name":"194f","text":"Design","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_30":{"id":"44aa93bf21d8_30","__typename":"Paragraph","name":"6f48","text":"The design of Rend is modular to allow for configurable functionality. Internally, there are a few layers: Connection management, a server loop, protocol-specific code, request orchestration, and backend handlers. To the side is a custom metrics package that enables Prana, our sidecar, to poll for metrics information while not being too intrusive. Rend also comes with a testing client library that has a separate code base. This has helped immensely in finding protocol bugs or other errors such as misalignment, unflushed buffers, and unfinished responses.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_31":{"id":"44aa93bf21d8_31","__typename":"Paragraph","name":"ba22","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*94zFkB9am7gRMVqS."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_32":{"id":"44aa93bf21d8_32","__typename":"Paragraph","name":"0b79","text":"Rend’s design allows different backends to be plugged in with the fulfillment of an interface and a constructor function. To prove this design out, an engineer familiar with the code base took less than a day to learn LMDB and integrate it as a storage backend. The code for this experiment can be found at https:\u002F\u002Fgithub.com\u002FNetflix\u002Frend-lmdb.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":307,"end":343,"type":"A","href":"https:\u002F\u002Fgithub.com\u002FNetflix\u002Frend-lmdb","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_33":{"id":"44aa93bf21d8_33","__typename":"Paragraph","name":"f596","text":"Usage in Production","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_34":{"id":"44aa93bf21d8_34","__typename":"Paragraph","name":"c4e1","text":"For the caches that Moneta serves best, there are a couple of different classes of clients that a single server serves. One class is online traffic in the hot path, requesting personalization data for a visiting member. The other is traffic from the offline and nearline systems that produce personalization data. These typically run in large batches overnight and continually write for hours on end.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_35":{"id":"44aa93bf21d8_35","__typename":"Paragraph","name":"33f8","text":"The modularity allows our default implementation to optimize for our nightly batch compute by inserting data into L2 directly and smartly replacing hot data in L1, rather than letting those writes blow away our L1 cache during the nightly precompute. The replicated data coming from other regions can also be inserted directly into L2, since data replicated from another region is unlikely to be “hot” in its destination region. The diagram below shows the multiple open ports in one Rend process that both connect to the backing stores. With the modularity of Rend, it was easy to introduce another server on a different port for batch and replication traffic with only a couple more lines of code.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_36":{"id":"44aa93bf21d8_36","__typename":"Paragraph","name":"f04d","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*MH8HsYzChkpTBkh5."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_37":{"id":"44aa93bf21d8_37","__typename":"Paragraph","name":"1dc2","text":"Performance","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_38":{"id":"44aa93bf21d8_38","__typename":"Paragraph","name":"0417","text":"Rend itself is very high throughput. While testing Rend separately, we consistently hit network bandwidth or packet processing limits before maxing CPU. A single server, for requests that do not need to hit the backing store, has been driven to 2.86 million requests per second. This is a raw, but unrealistic, number. With Memcached as the only backing storage, Rend can sustain 225k inserts per second and 200k reads per second simultaneously on the largest instance we tested. An i2.xlarge instance configured to use both L1 and L2 (memory and disk) and data chunking, which is used as a standard instance for our production clusters, can perform 22k inserts per second (with sets only), 21k reads per second (with gets only), and roughly 10k sets and 10k gets per second if both are done simultaneously. These are lower bounds for our production traffic, because the test load consisted of random keys thus affording no data locality benefits during access. Real traffic will hit the L1 cache much more frequently than random keys do.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_39":{"id":"44aa93bf21d8_39","__typename":"Paragraph","name":"7047","text":"As a server-side application, Rend unlocks all kinds of future possibilities for intelligence on the EVCache server. Also, the underlying storage is completely disconnected from the protocol used to communicate. Depending on Netflix needs, we could move L2 storage off-box, replace the L1 Memcached with another store, or change the server logic to add global locking or consistency. These aren’t planned projects, but they are possible now that we have custom code running on the server.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_40":{"id":"44aa93bf21d8_40","__typename":"Paragraph","name":"6c4c","text":"Mnemonic","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_41":{"id":"44aa93bf21d8_41","__typename":"Paragraph","name":"727a","text":"Mnemonic is our RocksDB-based L2 solution. It stores data on disk. The protocol parsing, connection management, and concurrency control of Mnemonic are all managed by the same libraries that power Rend. Mnemonic is another backend that is plugged into a Rend server. The native libraries in the Mnemonic project expose a custom C API that is consumed by a Rend handler.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_42":{"id":"44aa93bf21d8_42","__typename":"Paragraph","name":"c1d5","text":"","type":"IMG","href":null,"layout":"INSET_CENTER","metadata":{"__ref":"ImageMetadata:0*79WCQ20zHMuePlRw."},"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_43":{"id":"44aa93bf21d8_43","__typename":"Paragraph","name":"15fa","text":"The interesting parts of Mnemonic are in the C++ core layer that wraps RocksDB. Mnemonic handles the Memcached-style requests, implementing each of the needed operations to conform to Memcached behavior, including TTL support. It includes one more important feature: it shards requests across multiple RocksDB databases on a local system to reduce the work for each individual instance of RocksDB. The reasons why will be explored in the next section.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_44":{"id":"44aa93bf21d8_44","__typename":"Paragraph","name":"ff13","text":"RocksDB","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_45":{"id":"44aa93bf21d8_45","__typename":"Paragraph","name":"687b","text":"After looking at some options for efficiently accessing SSDs, we picked RocksDB, an embedded key-value store which uses a Log Structured Merge Tree data structure design. Write operations are first inserted into a in-memory data structure (a memtable) that is flushed to disk when full. When flushed to disk, the memtable becomes an immutable SST file. This makes most writes sequential to the SSD, which reduces the amount of internal garbage collection that the SSD must perform and thus improve latency on long running instances while also reducing wear.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":72,"end":79,"type":"A","href":"http:\u002F\u002Frocksdb.org\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_46":{"id":"44aa93bf21d8_46","__typename":"Paragraph","name":"e0f9","text":"One type of work that is done in the background by each separate instance of RocksDB includes compaction. We initially used the Level style compaction configuration, which was the main reason to shard the requests across multiple databases. However, while we were evaluating this compaction configuration with production data and production-like traffic, we found that compaction was causing a great deal of extra read\u002Fwrite traffic to the SSD, increasing latencies past what we found acceptable. The SSD read traffic surpassed 200MB\u002Fsec at times. Our evaluation traffic included a prolonged period where the number of write operations was high, simulating daily batch compute processes. During that period, RocksDB was constantly moving new L0 records into the higher levels, causing a very high write amplification.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_47":{"id":"44aa93bf21d8_47","__typename":"Paragraph","name":"8b3e","text":"To avoid this overhead, we switched to FIFO style compaction. In this configuration, no real compaction operation is done. Old SST files are deleted based on the maximum size of the database. Records stay on disk in level 0, so the records are only ordered by time across the multiple SST files. The downside of this configuration is that a read operation must check each SST file in reverse chronological order before a key is determined to be missing. This check does not usually require a disk read, as the RocksDB bloom filters prevent a high percentage of the queries from requiring a disk access on each SST. However, the number of SST files causes the overall effectiveness of the set of bloom filters to be less than the normal Level style compaction. The initial sharding of the incoming read and write requests across the multiple RocksDB instances helps lessen the negative impact of scanning so many files.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_48":{"id":"44aa93bf21d8_48","__typename":"Paragraph","name":"741c","text":"Performance","type":"H4","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_49":{"id":"44aa93bf21d8_49","__typename":"Paragraph","name":"043e","text":"Re-running our evaluation test again with the final compaction configuration, we are able to achieve a 99th percentile latency of ~9ms for read queries during our precompute load. After the precompute load completed, the 99th percentile read latency reduced to ~600μs on the same level of read traffic. All of these tests were run without Memcached and without RocksDB block caching.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_50":{"id":"44aa93bf21d8_50","__typename":"Paragraph","name":"63b1","text":"To allow this solution to work with more varied uses, we will need to reduce the number of SST files that needs to be checked per query. We are exploring options like RocksDB’s Universal style compaction or our own custom compaction where we could better control the compaction rate thereby lowering the amount of data transferred to and from the SSD.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_51":{"id":"44aa93bf21d8_51","__typename":"Paragraph","name":"718c","text":"Conclusion","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_52":{"id":"44aa93bf21d8_52","__typename":"Paragraph","name":"6267","text":"We are rolling out our solution in phases in production. Rend is currently in production serving some of our most important personalization data sets. Early numbers show faster operations with increased reliability, as we are less prone to temporary network problems. We are in the process of deploying the Mnemonic (L2) backend to our early adopters. While we’re still in the process of tuning the system, the results look promising with the potential for substantial cost savings while still allowing the ease of use and speed that EVCache has always afforded its users.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_53":{"id":"44aa93bf21d8_53","__typename":"Paragraph","name":"b32d","text":"It has been quite a journey to production deployment, and there’s still much to do: deploy widely, monitor, optimize, rinse and repeat. The new architecture for EVCache Server is allowing us to continue to innovate in ways that matter. If you want to help solve this or similar big problems in cloud architecture, join us.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":314,"end":321,"type":"A","href":"http:\u002F\u002Fjobs.netflix.com\u002F","anchorType":"LINK","userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_54":{"id":"44aa93bf21d8_54","__typename":"Paragraph","name":"c16a","text":"— Scott Mansfield (@sgmansfield), Vu Tuan Nguyen, Sridhar Enugula, Shashi Madappa on behalf of the EVCache Team","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":2,"end":17,"type":"A","href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fscottgmansfield","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":19,"end":31,"type":"A","href":"https:\u002F\u002Ftwitter.com\u002Fsgmansfield","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":34,"end":48,"type":"A","href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fvu-nguyen-16b4303","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":50,"end":65,"type":"A","href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fsridhar-enugula-96ab953","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":67,"end":81,"type":"A","href":"https:\u002F\u002Fwww.linkedin.com\u002Fin\u002Fshashishekar","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":111,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_55":{"id":"44aa93bf21d8_55","__typename":"Paragraph","name":"a9f2","text":"See Also:","type":"H3","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[],"dropCapImage":null},"Paragraph:44aa93bf21d8_56":{"id":"44aa93bf21d8_56","__typename":"Paragraph","name":"5a6c","text":"Global Cloud — Active-Active and Beyond\nwe set out to make our cloud deployment even more resilientmedium.com","type":"MIXTAPE_EMBED","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":{"__typename":"MixtapeMetadata","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fglobal-cloud-active-active-and-beyond-a0fdfa2c3a45","thumbnailImageId":"0*DOqQH3D_Xq-6o2jl."},"markups":[{"__typename":"Markup","start":0,"end":109,"type":"A","href":"https:\u002F\u002Fmedium.com\u002F@Netflix_Techblog\u002Fglobal-cloud-active-active-and-beyond-a0fdfa2c3a45","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":39,"type":"STRONG","href":null,"anchorType":null,"userId":null,"linkMetadata":null},{"__typename":"Markup","start":40,"end":99,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"Paragraph:44aa93bf21d8_57":{"id":"44aa93bf21d8_57","__typename":"Paragraph","name":"1951","text":"Originally published at techblog.netflix.com on May 25, 2016.","type":"P","href":null,"layout":null,"metadata":null,"hasDropCap":null,"iframe":null,"mixtapeMetadata":null,"markups":[{"__typename":"Markup","start":24,"end":44,"type":"A","href":"http:\u002F\u002Ftechblog.netflix.com\u002F2016\u002F05\u002Fapplication-data-caching-using-ssds.html","anchorType":"LINK","userId":null,"linkMetadata":null},{"__typename":"Markup","start":0,"end":61,"type":"EM","href":null,"anchorType":null,"userId":null,"linkMetadata":null}],"dropCapImage":null},"ImageMetadata:0*f7vr0Eqf96Y4znfR.":{"id":"0*f7vr0Eqf96Y4znfR.","__typename":"ImageMetadata","originalHeight":185,"originalWidth":1200,"focusPercentX":7,"focusPercentY":46,"alt":null},"ImageMetadata:0*SmIulc1_uF9uNuDr.":{"id":"0*SmIulc1_uF9uNuDr.","__typename":"ImageMetadata","originalHeight":249,"originalWidth":676,"focusPercentX":50,"focusPercentY":86,"alt":null},"ImageMetadata:0*OPxLARy3i5OdqeQ3.":{"id":"0*OPxLARy3i5OdqeQ3.","__typename":"ImageMetadata","originalHeight":184,"originalWidth":428,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:0*yn0qBWsJvbyH7fiH.":{"id":"0*yn0qBWsJvbyH7fiH.","__typename":"ImageMetadata","originalHeight":238,"originalWidth":417,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:0*94zFkB9am7gRMVqS.":{"id":"0*94zFkB9am7gRMVqS.","__typename":"ImageMetadata","originalHeight":228,"originalWidth":382,"focusPercentX":null,"focusPercentY":null,"alt":null},"ImageMetadata:0*MH8HsYzChkpTBkh5.":{"id":"0*MH8HsYzChkpTBkh5.","__typename":"ImageMetadata","originalHeight":229,"originalWidth":416,"focusPercentX":51,"focusPercentY":42,"alt":null},"ImageMetadata:0*79WCQ20zHMuePlRw.":{"id":"0*79WCQ20zHMuePlRw.","__typename":"ImageMetadata","originalHeight":173,"originalWidth":270,"focusPercentX":null,"focusPercentY":null,"alt":null},"Tag:caching":{"id":"caching","__typename":"Tag","displayTitle":"Caching","normalizedTagSlug":"caching"},"Tag:cloud-architecture":{"id":"cloud-architecture","__typename":"Tag","displayTitle":"Cloud Architecture","normalizedTagSlug":"cloud-architecture"},"Tag:evcache":{"id":"evcache","__typename":"Tag","displayTitle":"Evcache","normalizedTagSlug":"evcache"},"Tag:netflixoss":{"id":"netflixoss","__typename":"Tag","displayTitle":"Netflixoss","normalizedTagSlug":"netflixoss"},"Tag:performance":{"id":"performance","__typename":"Tag","displayTitle":"Performance","normalizedTagSlug":"performance"},"PostViewerEdge:postId:5bf25df851ef-viewerId:lo_60837f82cf07":{"id":"postId:5bf25df851ef-viewerId:lo_60837f82cf07","__typename":"PostViewerEdge","catalogsConnection":null},"Post:5bf25df851ef":{"id":"5bf25df851ef","__typename":"Post","creator":{"__ref":"User:c3aeaf49d8a4"},"canonicalUrl":"http:\u002F\u002Ftechblog.netflix.com\u002F2016\u002F05\u002Fapplication-data-caching-using-ssds.html","collection":{"__ref":"Collection:2615bd06b42e"},"content({\"postMeteringOptions\":{\"referrer\":\"https:\u002F\u002Fmedium.com\u002Fm\u002Fglobal-identity?redirectUrl=https%3A%2F%2Fnetflixtechblog.com%2Fapplication-data-caching-using-ssds-5bf25df851ef\",\"sk\":null,\"source\":null}})":{"__typename":"PostContent","isLockedPreviewOnly":false,"validatedShareKey":"","bodyModel":{"__typename":"RichText","paragraphs":[{"__ref":"Paragraph:44aa93bf21d8_0"},{"__ref":"Paragraph:44aa93bf21d8_1"},{"__ref":"Paragraph:44aa93bf21d8_2"},{"__ref":"Paragraph:44aa93bf21d8_3"},{"__ref":"Paragraph:44aa93bf21d8_4"},{"__ref":"Paragraph:44aa93bf21d8_5"},{"__ref":"Paragraph:44aa93bf21d8_6"},{"__ref":"Paragraph:44aa93bf21d8_7"},{"__ref":"Paragraph:44aa93bf21d8_8"},{"__ref":"Paragraph:44aa93bf21d8_9"},{"__ref":"Paragraph:44aa93bf21d8_10"},{"__ref":"Paragraph:44aa93bf21d8_11"},{"__ref":"Paragraph:44aa93bf21d8_12"},{"__ref":"Paragraph:44aa93bf21d8_13"},{"__ref":"Paragraph:44aa93bf21d8_14"},{"__ref":"Paragraph:44aa93bf21d8_15"},{"__ref":"Paragraph:44aa93bf21d8_16"},{"__ref":"Paragraph:44aa93bf21d8_17"},{"__ref":"Paragraph:44aa93bf21d8_18"},{"__ref":"Paragraph:44aa93bf21d8_19"},{"__ref":"Paragraph:44aa93bf21d8_20"},{"__ref":"Paragraph:44aa93bf21d8_21"},{"__ref":"Paragraph:44aa93bf21d8_22"},{"__ref":"Paragraph:44aa93bf21d8_23"},{"__ref":"Paragraph:44aa93bf21d8_24"},{"__ref":"Paragraph:44aa93bf21d8_25"},{"__ref":"Paragraph:44aa93bf21d8_26"},{"__ref":"Paragraph:44aa93bf21d8_27"},{"__ref":"Paragraph:44aa93bf21d8_28"},{"__ref":"Paragraph:44aa93bf21d8_29"},{"__ref":"Paragraph:44aa93bf21d8_30"},{"__ref":"Paragraph:44aa93bf21d8_31"},{"__ref":"Paragraph:44aa93bf21d8_32"},{"__ref":"Paragraph:44aa93bf21d8_33"},{"__ref":"Paragraph:44aa93bf21d8_34"},{"__ref":"Paragraph:44aa93bf21d8_35"},{"__ref":"Paragraph:44aa93bf21d8_36"},{"__ref":"Paragraph:44aa93bf21d8_37"},{"__ref":"Paragraph:44aa93bf21d8_38"},{"__ref":"Paragraph:44aa93bf21d8_39"},{"__ref":"Paragraph:44aa93bf21d8_40"},{"__ref":"Paragraph:44aa93bf21d8_41"},{"__ref":"Paragraph:44aa93bf21d8_42"},{"__ref":"Paragraph:44aa93bf21d8_43"},{"__ref":"Paragraph:44aa93bf21d8_44"},{"__ref":"Paragraph:44aa93bf21d8_45"},{"__ref":"Paragraph:44aa93bf21d8_46"},{"__ref":"Paragraph:44aa93bf21d8_47"},{"__ref":"Paragraph:44aa93bf21d8_48"},{"__ref":"Paragraph:44aa93bf21d8_49"},{"__ref":"Paragraph:44aa93bf21d8_50"},{"__ref":"Paragraph:44aa93bf21d8_51"},{"__ref":"Paragraph:44aa93bf21d8_52"},{"__ref":"Paragraph:44aa93bf21d8_53"},{"__ref":"Paragraph:44aa93bf21d8_54"},{"__ref":"Paragraph:44aa93bf21d8_55"},{"__ref":"Paragraph:44aa93bf21d8_56"},{"__ref":"Paragraph:44aa93bf21d8_57"}],"sections":[{"__typename":"Section","name":"7e3e","startIndex":0,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null},{"__typename":"Section","name":"2d10","startIndex":57,"textLayout":null,"imageLayout":null,"backgroundImage":null,"videoLayout":null,"backgroundVideo":null}]}},"customStyleSheet":null,"firstPublishedAt":1464159600000,"isIndexable":true,"isLocked":false,"isPublished":true,"isShortform":false,"layerCake":0,"primaryTopic":null,"title":"Application data caching using SSDs","isMarkedPaywallOnly":false,"mediumUrl":"https:\u002F\u002Fnetflixtechblog.com\u002Fapplication-data-caching-using-ssds-5bf25df851ef","isLimitedState":false,"inResponseToPostResult":null,"inResponseToCatalogResult":null,"visibility":"PUBLIC","license":"ALL_RIGHTS_RESERVED","allowResponses":true,"newsletterId":"","sequence":null,"tags":[{"__ref":"Tag:caching"},{"__ref":"Tag:cloud-architecture"},{"__ref":"Tag:evcache"},{"__ref":"Tag:netflixoss"},{"__ref":"Tag:performance"}],"topics":[],"isNewsletter":false,"isPublishToEmail":false,"socialTitle":"","socialDek":"","noIndex":null,"curationStatus":null,"metaDescription":"How we are bringing the power and economy of SSDs to EVCache — the primary caching system in use at Netflix for applications running in the control plane on AWS.","latestPublishedAt":1492615010159,"readingTime":12.619811320754717,"previewContent":{"__typename":"PreviewContent","subtitle":"The Moneta project: Next generation EVCache for better cost optimization"},"previewImage":{"__ref":"ImageMetadata:0*SmIulc1_uF9uNuDr."},"clapCount":130,"postResponses":{"__typename":"PostResponses","count":0},"isSuspended":false,"pendingCollection":null,"statusForCollection":"APPROVED","lockedSource":"LOCKED_POST_SOURCE_NONE","pinnedAt":0,"pinnedByCreatorAt":0,"curationEligibleAt":0,"responseDistribution":"NOT_DISTRIBUTED","internalLinks({\"paging\":{\"limit\":8}})":{"__typename":"InternalLinksConnection","items":[]},"viewerEdge":{"__ref":"PostViewerEdge:postId:5bf25df851ef-viewerId:lo_60837f82cf07"},"collaborators":[],"translationSourcePost":null,"inResponseToMediaResource":null,"audioVersionUrl":"","seoTitle":"","updatedAt":1526188491686,"shortformType":"SHORTFORM_TYPE_LINK","structuredData":"","seoDescription":"","latestPublishedVersion":"44aa93bf21d8","voterCount":36,"recommenders":[]}}</script><script src="https://cdn-client.medium.com/lite/static/js/manifest.8b8d190e.js"></script><script src="https://cdn-client.medium.com/lite/static/js/68318.74690f91.js"></script><script src="https://cdn-client.medium.com/lite/static/js/main.250150d9.js"></script><script src="https://cdn-client.medium.com/lite/static/js/45573.4354ed57.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/instrumentation.8487d597.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/reporting.284ee462.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/45279.c447ce9d.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/32847.fcf840bf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/80685.5f3f839e.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11034.8b48db35.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/90192.63f51e29.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/79088.e4863540.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/81645.b955b7c8.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/70832.444ac173.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/63303.da52dbf3.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/50006.f237604f.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/26022.d3d05be7.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5850.2cc3e6a0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11615.9b046158.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/92397.6c801126.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/72776.6bc7d662.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/5055.78455feb.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/81957.d56cb46c.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/61781.8135fc03.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/37801.b6b08077.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46670.2c0779de.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/22026.6d1fc7a4.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/20435.8b42e9f2.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/33673.952ffdce.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/95972.996c4300.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/11366.63777188.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/62182.7c280158.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/35285.dc03faaf.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/46736.3cc1fb75.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/43642.700b1345.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/1762.025292a0.chunk.js"></script>
<script src="https://cdn-client.medium.com/lite/static/js/Post.3d44e340.chunk.js"></script><script>window.main();</script></body></html>